; Garlic Jr's constants and state file.
;==========================================================================
;[Variables]
;0 = N/A
;1 = Nothing
;3 = Flight Movement
;4 = Screen Flash Random Var(Old Armor Mode Var)
;5
;6 = Sound Selector/Tired State
;7 = Below 250 Health
;8 = P2 Below 250 Helath
;9 = Hyper Combo Level Detection
;10 = Power Up.Decrease BG Brightness
;11 = Power Up.Increase BG Brightness
;12 = Hyper. Increase BG Brightness
;13 = Ground Pound Position (X)
;14 = Fireball Chain Repeat State
;15 = Fireball Chain Counter
;16 = Combo Counter
;17 = Scale Grow/Shrink
;18 = One Tick Only variable (Play sound/explod/helper etc for 1 tick, useful in check target states)
;19 =
;20 = In Flight
;21 = Flight Detection
;22 = Basic Counter (Counter as in 1, 2, 3...)
;23 = Crushing Shoulder Bash Activator
;24 = Some X
;25 = Some Y
;26 = DeadZone Active
;27 = Sound Select
;29 = Damage Dampener
;30 = General PalFX (Red)
;31 = General PalFX (Green)
;32 = General PalFx (Blue)
;33 = General PalFx (Reset State Condition)
;34 = TeleAttack Combo Count
;35 = TeleAttack XPos
;36 = TeleAttack YPos
;38 = AfterImage Aura Helper (0=Off, 1=On)
;39 = AI (No longer used, using AILevel instead)
;48 = Super Armor (Timer)
;49 = Super Armor (Armor Life)
;50 = Super Armor (Prevstateno)
;51 = Super Armor (PalFx)

[Data]
life = 1000
attack = 100
defence = 100
power = 3000
fall.defence_up = 90
liedown.time = 60
airjuggle = 10
sparkno = 2
guard.sparkno = 40
KO.echo = 1
KO.volumescale = 100
volume = 0

[Size]
xscale = 1.0         ;Horizontal scaling factor.
yscale = 1.0         ;Vertical scaling factor.
ground.back = 20     ;Player width (back, ground)
ground.front = 18    ;Player width (front, ground)
air.back = 14        ;Player width (back, air)
air.front = 14       ;Player width (front, air)
height = 78          ;Height of player (for opponent to jump over)
attack.dist = 90     ;Default attack distance
proj.attack.dist = 90;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
head.pos = -5, -75   ;Approximate position of head
mid.pos = -5, -40    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 1.95          ;Walk forward
walk.back = -1.75         ;Walk backward
run.fwd  = 5.6, 0.0      ;Run forward (x, y)
run.back = -5.2, 0.0     ;Run backward (x, y)
jump.neu = 0.0,-8.6      ;Neutral jumping velocity (x, y)
jump.back = -3.0          ;Jump back Speed (x, y)
jump.fwd = 3.2            ;Jump forward Speed (x, y)
runjump.back = 3.95,-8.3  ;Running jump speeds (opt)
runjump.fwd = 4.15,-8.3   ;.
airjump.neu = 0.0,-8.1   ;.
airjump.back = -2.75       ;Air jump speeds (opt)
airjump.fwd = 2.75         ;.
air.gethit.groundrecover = -.15,-3.5  ;Velocity for ground recovery state (x, y) **MUGEN 1.0**
air.gethit.airrecover.mul = .5,.2     ;Multiplier for air recovery velocity (x, y) **MUGEN 1.0**
air.gethit.airrecover.add = 0,-4.5    ;Velocity offset for air recovery (x, y) **MUGEN 1.0**
air.gethit.airrecover.back = -1       ;Extra x-velocity for holding back during air recovery **MUGEN 1.0**
air.gethit.airrecover.fwd = 0         ;Extra x-velocity for holding forward during air recovery **MUGEN 1.0**
air.gethit.airrecover.up = -2         ;Extra y-velocity for holding up during air recovery **MUGEN 1.0**
air.gethit.airrecover.down = 1.5      ;Extra y-velocity for holding down during air recovery **MUGEN 1.0**


[Movement]
airjump.num = 0         ;Number of air jumps allowed (opt)
airjump.height = 35     ;Minimum distance from ground before you can air jump (opt)
yaccel = .46            ;Vertical acceleration
stand.friction = 0.85   ;Friction coefficient when standing
crouch.friction = 0.82 ;Friction coefficient when crouching
stand.friction.threshold = 1          ;If player's speed drops below this threshold while standing, stop his movement **MUGEN 1.0**
crouch.friction.threshold = .05       ;If player's speed drops below this threshold while crouching, stop his movement **MUGEN 1.0**
air.gethit.groundlevel = 25           ;Y-position at which a falling player is considered to hit the ground **MUGEN 1.0**
air.gethit.groundrecover.ground.threshold = -20 ;Y-position below which falling player can use the recovery command **MUGEN 1.0**
air.gethit.groundrecover.groundlevel = 10   ;Y-position at which player in the ground recovery state touches the ground **MUGEN 1.0**
air.gethit.airrecover.threshold = -1  ;Y-velocity above which player may use the air recovery command **MUGEN 1.0**
air.gethit.airrecover.yaccel = .35    ;Vertical acceleration for player in the air recovery state **MUGEN 1.0**
air.gethit.trip.groundlevel = 15      ;Y-position at which player in the tripped state touches the ground **MUGEN 1.0**
down.bounce.offset = 0, 20            ;Offset for player bouncing off the ground (x, y) **MUGEN 1.0**
down.bounce.yaccel = .4               ;Vertical acceleration for player bouncing off the ground **MUGEN 1.0**
down.bounce.groundlevel = 12          ;Y-position at which player bouncing off the ground touches the ground again **MUGEN 1.0**
down.friction.threshold = .05         ;If the player's speed drops below this threshold while lying down, stop his movement **MUGEN 1.0**

;Default language victory quotes.  **MUGEN 1.0**
[Quotes]
victory1 = "Bwahaha! The world is mine!"
victory2 = "BWAAHAHAHAHAHAAAA!"
victory3 = "Is that all you've got?!"
victory4 = "Nothing can kill me, I'm immortal!"
victory5 = "Now to reform the Spice Boys!"
victory6 = "All who oppose me will be sucked into the eternal abyss!"
victory7 = "It's not easy trying to take over the world you know... BUT IT'S DAYS LIKE THIS THAT MAKE IT ALL WORTHWHILE! BWAHAHAHAHA--"
;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?            S/C/A/L  stand/crouch/air/liedown
; movetype = ?        I/A/H    idle/attack/gethit
; physics = ?         S/C/A/N  stand/crouch/air/none
; juggle = ?          air juggle points move requires
;
; [State STATENO, ?]  ? - any number you choose
; type = ?   

;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 170, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 11, 5
volumescale = 100
channel = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S
anim = 0

[State 180, WinRound]
type = ChangeState
triggerall = !matchover
trigger1 = Life > 250
value = 183
[State 180, Win-NearDeath]
type = ChangeState
triggerall = !matchover
trigger1 = Life <= 250
value = 182

[State 180, Win-FinalRound]
type = ChangeState
trigger1 = matchover
value = 181
;---------------------------------------------------------------------------
; Win pose 1
[Statedef 181]
type = S
ctrl = 0
velset = 0,0
anim = 181

[State 181, PlaySND]
type = PlaySnd
trigger1 = animelem = 2
value = 195, 0
channel = 0
volumescale = 100

[State 181, PlaySND]
type = PlaySnd
trigger1 = animelem = 2
value = 181, 0

[State 181, Sparkles.Helper]
type = Helper
trigger1 = animelem = 2
name = "Sparkles20001"
stateno = 20001
id = 20001
postype = p1
pos = -3, 0
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999

[State 181, Aura]
type = Explod
trigger1 = animelem = 2
Anim = 10000
Pos = -3,0
Id = 10000
sprpriority = 3
removeongethit = 1
removetime = 999
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 181, Ring]
type = Explod
trigger1 = animelem = 2
Anim = 10010
Pos = -4, 1
Id = 10010
sprpriority = -2
removeongethit = 1
removetime = 999
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.75, 0.75

[State 181, VarRandom]
type = VarRandom
trigger1 = 1
v = 4
range = 0,16

[State 181, AuraStartSND]
type = PlaySnd
trigger1 = Time = 5
value = 1700,0

[State 181, AuraSND]
type = PlaySnd
triggerall = time >= 12
trigger1 = TimeMod = 26,0
value = 1700,1

[State 181, VelSet]
type = null;Velset
trigger1 = time = [20,40]
y = -1.0

[State 181, Shake]
type = EnvShake
triggerall = time >= 10
trigger1 = Timemod = 8,0
Time = 8
freq = 60
ampl = -4
phase = -90

[State 181, Flash]
type = Envcolor
triggerall = time >= 20
trigger1 = var(4) = 10
Time = 4
color = 255,255,255

[State 181, VarSet]
type = varset
trigger1 = time = 0
v = 10
value = 0

[State 181, Varadd]
type = varadd
trigger1 = time = [10,90]
v = 10
value = 1

[state 181, BGColorFX]
type = BGPalFX
trigger1 = Time > 10
time = 1
add = floor(var(10)/4),-floor(var(10)*1.25),-floor(var(10)*1.25)

[State 181, RoundNotOver]
type = AssertSpecial
trigger1 = time <= 400
flag = roundnotover

;-----------------------------------------------
;Electricity Effects
[State 181, ElecA]
type = Explod
trigger1 = timemod = 100,0
Anim = 10020
Pos = -11,-8
Id = 10020
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 1, 1

[State 181, ElecB]
type = Explod
trigger1 = timemod = 100,20
Anim = 10021
Pos = -35,-60
Id = 10021
velocity = 0,-0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 181, ElecC]
type = Explod
trigger1 = timemod = 100,40
Anim = 10022
Pos = -38,-70
Id = 10022
sprpriority = 3
removeongethit = 1
removetime = 20
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.9

[State 181, ElecD]
type = Explod
trigger1 = timemod = 100,60
Anim = 10023
Pos = -40,-16
Id = 10023
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.9

[State 181, ElecE]
type = Explod
trigger1 = timemod = 100,80
Anim = 10024
Pos = 10,-36
Id = 10024
velocity = 0,0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win pose 2 - Tired
[Statedef 182]
type = S
ctrl = 0
velset = 0, 0
anim = 5300

[State 182, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 11, 4
volumescale = 100
channel = 0

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Winpose 3 - Evil Laugh
[Statedef 183]
type = S
ctrl = 0
velset = 0, 0
anim = 183

[State 183, Voice]
type = PlaySnd
trigger1 = Time = 20
value = 7, 1
volumescale = 100
channel = 0

[State 183, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 183, RoundNotOver]
type = AssertSpecial
trigger1 = time <= 348
flag = roundnotover
;---------------------------------------------------------------------------
; Introduction
[Statedef 191]
type = S
ctrl = 0
velset = 0,0
anim = 191

[State 191, AfterImage.Helper]
type = Helper
trigger1 = (time=[156,240]) && time%8=0
helpertype = normal
name = "AfterImage Pulse Aura"
ID = 10260
stateno = 10260
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 191, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = time = 256
v = 38
value = 1

;-------------------------
;Sounds
[State 191, Voice]
type = PlaySnd
trigger1 = time = 1
value = 8, 0
channel = 0
volumescale = 100

[State 191, PlaySND]
type = PlaySnd
trigger1 = animelem = 2
value = 187, 0
volumescale = 100

[State 191, Voice]
type = PlaySnd
trigger1 = animelem = 7
value = 1, 5
channel = 0
volumescale = 100

[State 191, Voice]
type = PlaySnd
trigger1 = animelem = 12
value = 9, 1
channel = 0
volumescale = 100

[State 191, PlaySND]
type = PlaySnd
trigger1 = animelem = 4
value = 1702, 1

[State 191, PlaySND]
type = PlaySnd
trigger1 = time = 150
value = 181, 0

[State 191, AuraStartSND]
type = PlaySnd
trigger1 = animelem = 5
value = 1700,0

[State 191, AuraSND]
type = PlaySnd
triggerall = time > 142 && time < 510
trigger1 = TimeMod = 26,0
value = 1700,1

[State 191, EndAuraSND]
type = PlaySnd
trigger1 = animelem = 7
value = 1702, 0
;------------------------
;Shake and Flashes and BG Color
[State 191, Shake]
type = EnvShake
triggerall = time = [171, 370]
trigger1 = Timemod = 8,0
Time = 8
freq = 60
ampl = -4
phase = -90

[State 191, VarRandom]
type = VarRandom
trigger1 = 1
v = 4
range = 0,20

[State 191, Flash]
type = Envcolor
triggerall = time = [171, 370]
trigger1 = var(4) = 10
Time = 4
color = 255,255,255

[State 191, Flash]
type = Envcolor
trigger1 = animelem = 6
Time = 4
color = 255,255,255

[State 191, VarSet]
type = varset
trigger1 = !time
v = 10
value = 0

[State 191, Varadd]
type = varadd
trigger1 = time = [200,290]
v = 10
value = 1

[State 191, Varadd]
type = varadd
trigger1 = time = [300,390]
v = 10
value = -1

[state 191, BGColorFX]
type = BGPalFX
trigger1 = time > 170
time = 1
add = floor(var(10)/4),-floor(var(10)*1.25),-floor(var(10)*1.25)


;------------------------
;Aura and GRings
[State 191, AuraSmall]
type = Explod
trigger1 = animelem = 5
Anim = 10000
Pos = -9,0
Id = 10000
sprpriority = 3
removeongethit = 1
removetime = -1
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.45, 0.4

[State 191, RingSmall]
type = Explod
trigger1 = animelem = 5
Anim = 10010
Pos = -10, 0
Id = 10010
sprpriority = -2
removeongethit = 1
removetime = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.45, 0.45

[State 191, Sparkles.Helper]
type = Helper
trigger1 = animelem = 5, =4
name = "Sparkles20001"
stateno = 20001
id = 20001
postype = p1
pos = 3, 0
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999

[State 191, Remove Aura]
type = RemoveExplod
trigger1 = animelem = 6
ID = 10000

[State 191, Remove Aura]
type = RemoveExplod
trigger1 = animelem = 6
ID = 10010

[State 191, AuraLarge]
type = Explod
trigger1 = animelem = 6
Anim = 10000
Pos = -7,0
Id = 10001
sprpriority = 3
removeongethit = 1
removetime = -1
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.65, 0.65

[State 191, AuraLarge.2]
type = Explod
trigger1 = animelem = 6
Anim = 10001
Pos = -7,0
Id = 10001
sprpriority = -1
removeongethit = 1
removetime = -1
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.7

[State 191, RingLarge]
type = Explod
trigger1 = animelem = 6
Anim = 10010
Pos = -11, 1
Id = 10011
sprpriority = -2
removeongethit = 1
removetime = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.75, 0.75

[State 191, Sparkles.Helper]
type = Helper
trigger1 = animelem = 6
name = "Sparkles20001"
stateno = 20001
id = 20001
postype = p1
pos = 5, 0
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999

[State 191, Remove Aura]
type = RemoveExplod
trigger1 = animelem = 7
ID = 10001

[State 191, Remove Aura]
type = RemoveExplod
trigger1 = animelem = 7
ID = 10011
;------------------------
;Growing White Light
[State 191, VarSet]
type = varset
trigger1 = time = 0
fv = 18
value = 0

[State 191, Varadd]
type = varadd
trigger1 = time = [200,300]
fv = 18
value = 0.0085

[State 191, WhiteLight]
type = Explod
trigger1 = time >= 181
Anim = 13108
Pos = -10,-64
Id = 13108
velocity = 0,0
sprpriority = 5
removeongethit = 1
;removetime = 9
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.01, 0.01

[State 191, ModifyLight]
type = ModifyExplod
trigger1 = time > 181
Id = 13108
scale = fVar(18), fVar(18)
;-------------------
;Shockwaves
[State 191, Shockwave1]
type = Explod
trigger1 = time = 210
Anim = 13112
Pos = -10,-44
Id = 13112
velocity = 0,0
sprpriority = 5
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.01, 0.01

[State 191, ModifyExplod1]
type = ModifyExplod
trigger1 = time > 210
id = 13112
supermovetime = 9999
pausemovetime = 9999
scale = (0.01+((time-210)*0.2)),(0.01+((time-210)*0.2))

[State 191, Shockwave2]
type = Explod
trigger1 = time = 260
Anim = 13112
Pos = -10,-44
Id = 13113
velocity = 0,0
sprpriority = 5
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.01, 0.01

[State 191, ModifyExplod2]
type = ModifyExplod
trigger1 = time > 260
id = 13113
supermovetime = 9999
pausemovetime = 9999
scale = (0.01+((time-260)*0.2)),(0.01+((time-260)*0.2))

[State 191, Shockwave3]
type = Explod
trigger1 = time = 310
Anim = 13112
Pos = -10,-44
Id = 13114
velocity = 0,0
sprpriority = 5
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.01, 0.01

[State 191, ModifyExplod3]
type = ModifyExplod
trigger1 = time > 260
id = 13114
supermovetime = 9999
pausemovetime = 9999
scale = (0.01+((time-310)*0.2)),(0.01+((time-310)*0.2))

[State 191, Shockwave4]
type = Explod
trigger1 = time = 360
Anim = 13112
Pos = -10,-44
Id = 13115
velocity = 0,0
sprpriority = 5
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.01, 0.01

[State 191, ModifyExplod4]
type = ModifyExplod
trigger1 = time > 310
id = 13115
supermovetime = 9999
pausemovetime = 9999
scale = (0.01+((time-360)*0.2)),(0.01+((time-360)*0.2))

;------------------------
;Electricity Effects
[State 191, ElecA]
type = Explod
triggerall = time > 290 && time <= 530
trigger1 = timemod = 100,0
Anim = 10020
Pos = -11,-8
Id = 10020
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 1, 1

[State 191, ElecB]
type = Explod
triggerall = time > 290 && time <= 530
trigger1 = timemod = 100,20
Anim = 10021
Pos = -35,-60
Id = 10021
velocity = 0,-0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 191, ElecC]
type = Explod
triggerall = time > 290 && time <= 530
trigger1 = timemod = 100,40
Anim = 10022
Pos = -38,-70
Id = 10022
sprpriority = 3
removeongethit = 1
removetime = 20
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.9

[State 191, ElecD]
type = Explod
triggerall = time > 290 && time <= 530
trigger1 = timemod = 100,60
Anim = 10023
Pos = -40,-16
Id = 10023
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.9

[State 191, ElecE]
type = Explod
triggerall = time > 290 && time <= 530
trigger1 = timemod = 100,80
Anim = 10024
Pos = 10,-36
Id = 10024
velocity = 0,0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8
;------------------------
;Intro Stuff and CHangestate
[State 191, AnimationSet] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 191, Intro] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, End.Intro]
type = ChangeState
trigger1 = !animtime
value = 0
;---------------------------------------------------------------------------
; Introduction
[Statedef 192]
type = S
ctrl = 0
velset = 0,0
anim = 191

[State 191, Intro] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro
;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 195

[State 195, LifeAdd]
type = LifeAdd
trigger1 = Time % 4 = 0
value = 1

[State 195, PowerAdd]
type = PowerAdd
trigger1 = 1
value = 1

[State 195, Voice]
type = PlaySnd
trigger1 = time = 12
value = 1, 3
volumescale = 100
channel = 0

[State 195, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Light Punch
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 0                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)
anim = 200

[State 200, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 200, DeadZone-Inversion.Helper]
type = null;Helper
triggerall = !numhelper(16020)
trigger1 = !time 
name = "DeadZone-Inversion"
stateno = 16020
postype = p1
pos = 70, -70
keyctrl = 0
ownpal = 1
bindtime = -1
id = 16020
size.ground.front = 1
size.ground.back = 1
size.xscale = 0.6
size.yscale = 0.6

[State 200, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = floor(40/ifelse(prevstateno=200,2,1)),3
guardflag = MA
pausetime = 11,9
sparkno = S11000
sparkxy = -20,-71
hitsound   = S300,0
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = ifelse(prevstateno = stateno, -6, -2),0
air.velocity = ifelse(prevstateno = stateno, -6, -2),-2
envshake.time = 7
envshake.freq = 70
envshake.ampl = -2
envshake.phase = 90

[State 200, CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1

[State 200, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Elbow
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
poweradd = 20
sprpriority = 2
anim = 205

[State 205, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 205, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 90
value = 1, 2
volumescale = 100
channel = 0

[State 205, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 25,3
guardflag = MA
pausetime = 10,10
sparkno = S11000
sparkxy = -20,-75
hitsound   = S300,0
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -4,-2
envshake.time = 7
envshake.freq = 70
envshake.ampl = -2
envshake.phase = 90

[State 205, CtrlSet]
type = CtrlSet
trigger1 = animelem = 3
value = 1

[State 205, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Medium punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 25
ctrl = 0
velset = 1,0
sprpriority = -1
anim = 210

[State 210, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 200, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 120
value = 1, 4
volumescale = 100
channel = 0

[State 200, VelSet]
type = Velset
triggerall = prevstateno = 200 || prevstateno = 230 || prevstateno = 400 || prevstateno = 430
trigger1 = animelem = 2
x = 1.8

[State 210, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 8
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 210, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 50,7
guardflag = MA
pausetime = 13,12
sparkno = S11010
sparkxy = -21,-73
hitsound   = S301,0
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,0
air.velocity = -4,-2
air.fall = 1
envshake.time = 9
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 210, CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1

[State 210, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Strong Punch
; CNS difficulty: easy
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 1,0     
ctrl = 0  
poweradd = 40
sprpriority = 2
anim = 220

[State 220, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 220, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 1
channel = 0
volumescale = 100

[State 220, EnergySound]
type = PlaySnd
trigger1 = animelem = 3
value = 1110, 0

[State 220, VelSet]
type = Velset
trigger1 = animelem = 2
x = 3.4

[State 220, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 8
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 220, Streak.Helper]
type = Helper
trigger1 = animelem = 3
name = "SPunchStreak"
stateno = 12301
id = 12301
postype = p1
pos = 49, -54;38, -45
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999
size.xscale = 0.7
size.yscale = 0.7

[State 220, Shake]
type = EnvShake
trigger1 = animelem = 3
Time = 16
freq = 90
ampl = -2
phase = 0

[State 220, SparkleTrail.Helper]
type = Helper
trigger1 = animelem = 2
name = "SparkleTrail20000"
stateno = 20000
id = 20000
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999

[State 220, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 4,10
sparkno = S11010
sparkxy = -6,-62
hitsound   = S302,0
guardsound = S6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 15
ground.velocity = -4,6
air.velocity = -4,6
air.fall = 1
envshake.time = 8
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 220, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = Hard
damage    = 40
guardflag = MA
pausetime = 16,8
sparkno = S11020
sparkxy = -16,-41
hitsound   = S303,0
guardsound = S6,1
ground.type = Low
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -4,8
air.velocity = -7,8
fall = 1
fall.recover = 0
fall.xvelocity = -3
fall.yvelocity = -7
down.bounce = 1
envshake.time = 16
envshake.freq = 160
envshake.ampl = -3
envshake.phase = 90

[State 220, Groundspark]
type = Explod
trigger1 = animelem = 3
Anim = 15780
Pos = 37,0
Id = 15780
velocity = 0,0
sprpriority = 6
removeongethit = 1
;removetime = 9
bindtime = -1
Postype = p1
SuperMovetime = 9999
pausetime = 9999
ownpal = 1
scale = 0.5, 0.5
ignorehitpause = 1

[State 220, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Light Kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 25
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 230

[State 230, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 201, 0

[State 230, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 35
guardflag = MA
pausetime = 11,11
sparkno = S11000
sparkxy = -24,-70
hitsound   = S301,0
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-3

[State 230, CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1

[State 230, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Hard Kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 40
ctrl = 0
velset = 1,0
sprpriority = 2
anim = 240

[State 240, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 240, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 7
channel = 0
volumescale = 100

[State 240, VelSet]
type = Velset
trigger1 = animelem = 3
x = 3.6

[State 240, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 6
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 240, Streak.Helper]
type = Helper
trigger1 = animelem = 3
name = "SKickStreak"
stateno = 12314
id = 12312
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999
size.xscale = 0.55
size.yscale = 0.55

[State 240, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 50
guardflag = MA
pausetime = 15,15
sparkno = S11020
sparkxy = -27,-63
hitsound   = S303,0
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,0
air.velocity = -6,-5.5
air.fall = 1
envshake.time = 8
envshake.freq = 120
envshake.ampl = -2
envshake.phase = 90

[State 240, CtrlSet]
type = CtrlSet
trigger1 = animelem = 5
value = 1

[State 240, 4]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Launcher
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 45
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 250

[State 250, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 12
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 250, VelSetY]
Type = VelSet
Trigger1 = animelem = 1 
x = ifelse((prevstateno = [200,249])||(prevstateno = [400,449]),7.4,2.8)
y = 0

[State 250, Sound]
type = PlaySnd
trigger1 = time = 1
value = 202, 0

[State 250, VarRandom]
type = VarRandom
trigger1 = !time
v = 6
range = 0,5

[State 250, PlaySND]
type = PlaySnd
triggerall = var(6)=0
trigger1 = time = 2
value = 1,10
channel = 0
volumescale = 100

[State 250, PlaySND]
type = PlaySnd
triggerall = var(6)=1
trigger1 = time = 2
value = 9,5
channel = 0
volumescale = 100

[State 250, PlaySND]
type = PlaySnd
triggerall = var(6)=2
trigger1 = time = 2
value = 9,7
channel = 0
volumescale = 100

[State 250, effect.Helper]
type = Helper
trigger1 = animelem = 3
name = "Launcher_Effect"
stateno = 12600
postype = p1
pos = 49, -163
keyctrl = 0
ownpal = 1
id = 12600
size.xscale = 0.55
size.yscale = 0.35

[State 250, Effect.Helper]
type = Helper
trigger1 = animelem = 3
name = "Glowing Arm"
stateno = 251
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
id = 251
size.xscale = 1
size.yscale = 1

[State 250, Hitdef1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 12,12
sparkno = S11000
sparkxy = -14,-71
hitsound   = S301,0
guardsound = S6,1
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -1, 0
air.velocity = -1,-4
fall = 0
envshake.time = 6
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 250, Hitdef2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Up
damage    = 75
guardflag = MA
pausetime = 12,16
sparkno = S11020
sparkxy = -2,-125
hitsound   = S303,0
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1, -11.75
air.velocity = -4,-7.0
fall = 1
envshake.time = 7
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 250, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Medium kick
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 35
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 260

[State 260, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 201, 0

[State 260, VelSet]
type = Velset
trigger1 = animelem = 2
x = 2.0

[State 220, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 5
channel = 0
volumescale = 100

[State 260, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 8
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 260, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 42
guardflag = MA
pausetime = 13,13
sparkno = S11010
sparkxy = -24,-56
hitsound   = S302,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1.5,-5
air.velocity = -1.5,-5
envshake.time = 9
envshake.freq = 70
envshake.ampl = -2
envshake.phase = 90

[State 260, CtrlSet]
type = CtrlSet
trigger1 = animelem = 5
value = 1

[State 260, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Advance Guard
[Statedef 330]
type    = S 
movetype= A 
physics = S 
juggle  = 0 
velset = 0,0
ctrl = 0 
poweradd = -400
sprpriority = 2
anim = 330

[State 330, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 330, 0

[State 330, PlaySND1]
type = PlaySnd
triggerall = random > 500
trigger1 = !time
value = 2,6
channel = 0
volumescale = 100

[State 330, Spark]
type = Explod
trigger1 = animelem = 2
Anim = 10900
Pos = 30, -68
Id = 10900
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.5,0.5

[State 330, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 5
guardflag = MA
pausetime = 4,12
sparkno = S11020
sparkxy = -25,-69
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -11,-5
air.velocity = -11,-5
air.fall = 1
fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 330, HitOverride]
type = Hitoverride
trigger1 = 1
attr = S, NA
stateno = 130
value = 202, 0

[State 330, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 330, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Power Kick - Charge
[Statedef 290]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 65
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 290

[State 290, AfterImage.Pulse.Helper]
type = Helper
triggerall = time%8=0
trigger1 = time = [48,64]
helpertype = normal
name = "AfterImage Pulse Aura"
ID = 10260
stateno = 10260
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 290, VarSet-General.PalFX]
type = VarRangeSet
trigger1 = !time
first = 30
last = 32
value = 0

[State 290, General.PalFX-R]
type = VarAdd
trigger1 = (time = [23,48]) && var(30) < 140
v = 30
value = 5
[State 290, General.PalFX-G]
type = VarAdd
trigger1 = (time = [23,48]) && var(31) < 84
v = 31
value = 3
[State 290, General.PalFX-B]
type = VarAdd
trigger1 = (time = [23,48]) && var(32) < 0
v = 32
value = 0

[State 290, PalFX-General.PalFX]
type = PalFX
trigger1 = time <= 48
time = 1
add = var(30),var(31),var(32)

[State 290, VarSet-General.PalFX.State]
type = Varset
trigger1 = !time
v = 33
value = stateno
[State 290, VarSet-General.PalFX.NoState]
type = Varset
trigger1 = time = 48
v = 33
value = -1

[State 290, Sound]
type = PlaySnd
trigger1 = time = 10
value = 1956, 0

[State 290, SparkleTrail.Helper]
type = Helper
trigger1 = time=9
name = "SparkleTrail20002"
stateno = 20002
id = 20002
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999

[State 290, Ball1]
type = Explod
trigger1 = time = 8
Anim = 11400
Pos = -28, -4
Id = 11400
sprpriority = 3
removeongethit = 1
removetime = -1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.1, 0.1
[State 290, ModifyBalls]
type = ModifyExplod
trigger1 = time = [9,28]
ID = 11400
scale = 0.1+((time-8)*0.015),0.1+((time-8)*0.015)
[State 290, RemoveBalls]
type = RemoveExplod
trigger1 = (command != "hold_a") && (command != "hold_b") && (command != "hold_c") && time >= 9
ID = 11400

[State 290, FVarSet-Circles-Scale]
type = VarSet
trigger1 = time%20=10
fv = 17
value = 0.04
[State 290, FVarAdd-Circles-Scale]
type = VarAdd
trigger1 = 1
fv = 17
value = 0.015
[State 290, Explod-Circle1]
type = Explod
trigger1 = time%20=10
Anim = 10101
Pos = -28, -4
Id = 10101
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = fvar(17),fvar(17)
[State 290, ModifyExplod-Circles]
type = ModifyExplod
trigger1 = 1
Id = 10101
scale = fvar(17),fvar(17)
[State 290, RemoveExplod-Circles]
type = RemoveExplod
trigger1 = (command != "hold_a") && (command != "hold_b") && (command != "hold_c") && time >= 9
Id = 10101

[State 290, VarSet-Iterator]
type = VarSet
trigger1 = !time
v = 22
value = 0
[State 290, VarAdd-Iterator]
type = VarAdd
trigger1 = time =[8,48]
v = 22
value = 1

[State 290, Sound]
type = PlaySnd
trigger1 = time = 48
value = 1740, 0

[State 290, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = time = 48
v = 38
value = 1

[State 290, Next]
type = ChangeState
trigger1 = time > 8 && (command != "hold_a" && command != "hold_b" && command != "hold_c")
value = 291
;---------------------------------------------------------------------------
; Power Kick - Actual Kick
[Statedef 291]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 25
ctrl = 0
velset = 1,0
sprpriority = 2
anim = 291

[State 291, RemoveExplod-EBall]
type = RemoveExplod
trigger1 = !time
ID = 11400
[State 291, RemoveExplod-Circles]
type = RemoveExplod
trigger1 = !time
Id = 10101

[State 291, EnvShake]
type = EnvShake
trigger1 = !time 
Time = 24
freq = 90
ampl = -2

[State 291, AfterImage.AuraKillVar]
type = VarSet
trigger1 = time = 12
v = 38
value = 0

[State 291, Explod]
type = Explod
trigger1 = time=1
Anim = 12600
Pos = 70, -94
Id = 12600
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5
angle = -30

[State 291, SparkleTrail.Helper]
type = Helper
trigger1 = !time
name = "SparkleTrail20003"
stateno = 20003
id = 20003
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999

[State 291, AfterImage]
type = AfterImage
trigger1 = !time
time = 6
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 291, Sound]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 291, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = !Time
value = 1, 7
channel = 0
volumescale = 100

[State 291, VelSet]
type = Velset
trigger1 = !time
x = 7.0

[State 290, Streak.Helper]
type = Helper
trigger1 = animelem = 3
name = "SKickStreak"
stateno = 12314
id = 12312
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999
size.xscale = 0.55
size.yscale = 0.55

[State 291, HitDef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Back
damage    = 85+floor(var(22)*0.5),7
guardflag = MA
pausetime = 16,16
sparkno = S11020
sparkxy = -17,-83
hitsound   = S305,0
guardsound = S6,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = ifelse(var(22)>=40,-10.5,-8.5),ifelse(var(22)>=40,-9.0,-6.0)
air.velocity = ifelse(var(22)>=40,-10.5,-8.5),ifelse(var(22)>=40,-9.0,-6.0)
fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = -3
envshake.phase = 90

[State 291, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 25
ctrl = 0
sprpriority = 2
anim = 400

[State 400, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 400, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 35
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 9,9
sparkno = S11000
sparkxy = -18,-55
hitsound   = S300,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -3.5,-2
envshake.time = 7
envshake.freq = 70
envshake.ampl = -2
envshake.phase = 90

[State 400, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Medium punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 32
ctrl = 0
sprpriority = 2
anim = 410

[State 410, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 410, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 43
priority  = 3
animtype  = Medium
hitflag = MAF
guardflag = L
pausetime = 11,11
sparkno = S11010
sparkxy = -19,-52
hitsound   = S301,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -5
air.velocity = -4.5,-3
envshake.time = 9
envshake.freq = 70
envshake.ampl = -2
envshake.phase = 90

[State 410, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Strong punch
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 420

[State 420, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 420, effect.Helper]
type = Helper
trigger1 = animelem = 3
name = "Launcher_Effect"
stateno = 12600
postype = p1
pos = 30, -60
keyctrl = 0
ownpal = 1
id = 12600
size.xscale = 0.55
size.yscale = 0.25

[State 420, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 54
priority  = 3
animtype  = Medium
hitflag = MAF
guardflag = L
pausetime = 14,16
sparkno = S11020
sparkxy = -6,-94
hitsound   = S302,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -6, -5
air.velocity = -6,-5
envshake.time = 14
envshake.freq = 100
envshake.ampl = -3
envshake.phase = 90

[State 420, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light kick
[Statedef 430]
type    = C
movetype= A
physics = C
juggle = 2
poweradd= 30
ctrl = 0
sprpriority = 2
anim = 430

[State 430, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 201, 0

[State 430, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 30
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 11,11
sparkno = S11000
sparkxy = -20,-47
hitsound   = S301,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
envshake.time = 7
envshake.freq = 70
envshake.ampl = -2
envshake.phase = 90

[State 430, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Medium kick
[Statedef 440]
type    = C
movetype= A
physics = C
juggle = 2
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 440

[State 440, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 201, 0

[State 440, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 38
animtype  = Medium
hitflag = MAFD
guardflag = L
pausetime = 11,11
sparkno = S11010
sparkxy = -20,-8
hitsound   = S302,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
envshake.time = 7
envshake.freq = 70
envshake.ampl = -2
envshake.phase = 90

[State 440, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Strong kick
[Statedef 450]
type    = C
movetype= A
physics = C
juggle = 2
poweradd= 50
ctrl = 0
sprpriority = 2
anim = 450

[State 450, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 450, Streak.Helper]
type = Helper
trigger1 = animelem = 3
name = "SKickStreak"
stateno = 12312
id = 12312
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999
size.xscale = 0.55
size.yscale = 0.55

[State 450, VelSet]
type = Velset
trigger1 = animelem = 3
x = 4.2

[State 450, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 18
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 450, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 45
animtype  = Hard
hitflag = MAFD
guardflag = L
pausetime = 11,11
sparkno = S11020
sparkxy = -22,0
hitsound   = S302,0
guardsound = S6,0
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -7
air.velocity = -6,-2.2
down.velocity = -5,0
down.hittime = 20
envshake.time = 9
envshake.freq = 70
envshake.ampl = -3
envshake.phase = 90

[State 450, End]
type = ChangeState
trigger1 = !animtime
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 30
ctrl = 0
sprpriority = 2
anim = 610

[State 600, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1

[State 600, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 600, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 38
guardflag = HA
animtype  = Medium
priority = 3
pausetime = 11,12
sparkno = S11000
sparkxy = -18,-74
hitsound   = S300,0
guardsound = S6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time = 7
envshake.freq = 70
envshake.ampl = -2
envshake.phase = 90

[State 600, Control]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;Jump Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 30
ctrl = 0
sprpriority = 2
anim = 600

[State 610, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1

[State 610, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 610, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 45
guardflag = HA
animtype  = Medium
priority = 3
pausetime = 13,13
sparkno = S11010
sparkxy = -22,-64
hitsound   = S302,0
guardsound = S6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time = 7
envshake.freq = 70
envshake.ampl = -2
envshake.phase = 90

[State 610, Control]
type = CtrlSet
trigger1 = Time = 20
value = 1
;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 30
ctrl = 0
sprpriority = 2
anim = 620

[State 620, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1

[State 620, VarRandom]
type = VarRandom
trigger1 = !time
v = 6
range = 0,4

[State 620, PlaySND]
type = PlaySnd
triggerall = var(6)=0
trigger1 = time = 2
value = 2,5
channel = 0
volumescale = 100

[State 620, PlaySND]
type = PlaySnd
triggerall = var(6)=1
trigger1 = time = 2
value = 1,10
channel = 0
volumescale = 100

[State 620, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 620, Streak]
type = Explod
trigger1 = animelem = 3
Anim = 12640
Pos = 5,-37
Id = 12640
velocity = 0,0
sprpriority = 3
removeongethit = 1
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.6, 0.6

[State 620, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 60
guardflag = HA
animtype  = Hard
priority = 3
pausetime = 15,15
sparkno = S11020
sparkxy = -15,-35
hitsound   = S303,0
guardsound = S6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4,8
air.velocity = -1.3, 8
envshake.time = 7
envshake.freq = 70
envshake.ampl = -5
envshake.phase = 90
fall = 1
fall.recover = 0
;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 35
ctrl = 0
sprpriority = 2
anim = 640

[State 630, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1

[State 630, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 630, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 100
value = 1, 5
volumescale = 100
channel = 0

[State 630, Hitdef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 36
guardflag = HA
animtype  = Light
priority = 3
pausetime = 10,11
sparkno = S11000
sparkxy = -19,-70
hitsound   = S301,0
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -4
air.velocity = -3,-4
envshake.time = 10
envshake.freq = 90
envshake.ampl = -1
envshake.phase = 90

[State 630, Control]
type = CtrlSet
trigger1 = Time = 20
value = 1
;---------------------------------------------------------------------------
;Jump Medium Kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 45
ctrl = 0
sprpriority = 2
anim = 630

[State 640, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1

[State 640, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 640, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 100
value = 1, 5
volumescale = 100
channel = 0

[State 640, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 42
guardflag = HA
animtype  = Medium
priority = 3
pausetime = 12,14
sparkno = S11010
sparkxy = -17,-30
hitsound   = S302,0
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -4
air.velocity = -4,-1
envshake.time = 12
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 90

[State 640, Control]
type = CtrlSet
trigger1 = Time = 23
value = 1
;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 55
ctrl = 0
sprpriority = 2
anim = 650

[State 650, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1

[State 650, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 650, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 100
value = 1, 5
volumescale = 100
channel = 0

[State 650, Streak.Helper]
type = Helper
trigger1 = animelem = 3
name = "SKickStreak"
stateno = 12313
id = 12312
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999
size.xscale = 0.55
size.yscale = 0.55

[State 650, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 50
guardflag = HA
animtype  = Hard
priority = 3
pausetime = 14,13
sparkno = S11020
sparkxy = -20,-65
hitsound   = S303,0
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -8
air.velocity = -10,-3
air.fall = 1
fall.recover = 0
envshake.time = 15
envshake.freq = 90
envshake.ampl = -4
envshake.phase = 90

[State 640, Control]
type = CtrlSet
trigger1 = Time = 26
value = 1
;---------------------------------------------------------------------------
;Basic Throw
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
p1stateno = 810
p2stateno = 965032
p2facing = 1
id = 65032

[State 800, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Throw successful
[Statedef 810]
type = S
movetype = A
physics = S
velset = 0,0
anim = 810
sprpriority = 1

[State 810, Throw_Success_Ring]
type = Explod
trigger1 = !time
Anim = 10105
Pos = 34, -83
Id = 10105
sprpriority = 3
removeongethit = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1

[State 810, GrabSND]
type = PlaySnd
trigger1 = time = 0
value = 800, 0

[State 810, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 810, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0

[State 810, VarRandom]
type = VarRandom
trigger1 = !time
v = 6
range = 0,2

[State 810, PlaySND]
type = PlaySnd
triggerall = var(6)=0
trigger1 = time = 1
value = 1,8
channel = 0
volumescale = 100

[State 810, PlaySND]
type = PlaySnd
triggerall = var(6)=1
trigger1 = time = 1
value = 1,3
channel = 0
volumescale = 100

[State 810, Damage]
type = TargetLifeAdd
trigger1 = !animtime
value = -10

[State 810, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 3, < 0
pos = 34,-87

[State 810, TBind2]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 11,-66

[State 810, TBind2]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, = 0
pos = -15,-10

[State 810, TState]
type = TargetState
trigger1 = AnimElem = 3
value = 965033

[State 810, TState2]
type = TargetState
trigger1 = AnimElem = 4
value = 965034

[State 810, Turn]
type = Turn
trigger1 = AnimElem = 5

[State 810, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
x = 19

[State 810, VarSet]
type = VarSet
trigger1 = !time
v = 18
value = 0
[State 810, VarAdd]
type = VarAdd
trigger1 = (target, stateno = 95002) || var(18)
v = 18
value = 1
[State 810, PlaySnd]
type = PlaySnd
trigger1 = var(18)=1
value = 900,0
volumescale = 100

[State 810, State]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Over Head Throw
[Statedef 850]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1

[State 850, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0
p1stateno = 851
p2stateno = 95022
p2facing = 1

[State 850, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Throw successful
[Statedef 851]
type = S
movetype = A
physics = S
velset = 0,0
anim = 851
sprpriority = 1

[State 851, GrabSND]
type = PlaySnd
trigger1 = time = 0
value = 800, 0

[State 851, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 851, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 4
value = 210,0

[State 851, VarRandom]
type = VarRandom
trigger1 = !time
v = 6
range = 0,2

[State 851, PlaySND]
type = PlaySnd
triggerall = var(6)=0
trigger1 = animelem = 3
value = 1,8
channel = 0
volumescale = 100

[State 851, PlaySND]
type = PlaySnd
triggerall = var(6)=1
trigger1 = animelem = 3
value = 1,3
channel = 0
volumescale = 100

[State 851, PlaySND]
type = PlaySnd
triggerall = var(6)=2
trigger1 = animelem = 4
value = 1,2
channel = 0
volumescale = 100

[State 851, Damage]
type = TargetLifeAdd
trigger1 = !animtime
value = -10

[State 851, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 35,0

[State 851, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 0,-10

[State 851, TBind3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = -8,-73

[State 851, TBind4]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = 8,-50

[State 851, TState]
type = TargetState
trigger1 = AnimElem = 5
value = 95023

[State 851, State]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Face Breaker Grab
[Statedef 900]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 900
sprpriority = 1

[State 900, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0
p1stateno = 910
p2stateno = 95025
p2facing = 1

[State 900, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Face Breaker successful
[Statedef 910]
type = S
movetype = A
physics = S
velset = 0,0
anim = 910
sprpriority = 1

[State 910, Throw_Success_Ring]
type = Explod
trigger1 = animelem = 2
Anim = 10105
Pos = 49, -91
Id = 10105
sprpriority = 3
removeongethit = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1

[State 910, GrabSND]
type = PlaySnd
trigger1 = time = 0
value = 800, 0

[State 910, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 910, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0

[State 910, VarRandom]
type = VarRandom
trigger1 = !time
v = 6
range = 0,2

[State 910, PlaySND]
type = PlaySnd
triggerall = var(6)=0
trigger1 = time = 1
value = 2,5
channel = 0
volumescale = 100

[State 910, PlaySND]
type = PlaySnd
triggerall = var(6)=1
trigger1 = animelem = 3
value = 1,7
channel = 0
volumescale = 100

[State 910, Damage]
type = TargetLifeAdd
trigger1 = time = 0
value = -40

[State 910, TargetBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 34,-87

[State 910, TargetBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 50,-91

[State 910, TargetBind3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 49,-80

[State 910, SprPriority]
type = SprPriority
trigger1 = animelem = 4
value = 2

;[State 910, TargetBind1]
;type = TargetBind
;trigger1 = time = [34, 40]
;pos = 45,-85

[State 910, AfterImage]
type = AfterImage
trigger1 = animelem = 4
time = 8
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 910, AfterImage.Pulse.Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "AfterImage Pulse Aura"
ID = 10260
stateno = 10260
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 910, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4

[State 910, HitDef]
type = HitDef
trigger1 = !time
attr = S, ST
animtype  = Hard
damage    = 70,7
guardflag = MA
snap = 48,-12
pausetime = 12,12
sparkno = S11020
sparkxy = -31,-73
hitsound   = S305,0
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10,-3
air.velocity = -10,-3
air.fall = 1
envshake.time = 18
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 910, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;-------------------------------------------------------------------------
; Face Breaker -> Broli Style Slam
[Statedef 950]
type = S
movetype = A
physics = S
velset = 0,0
anim = 950
sprpriority = 1

[State 950, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 950, PlaySND]
type = PlaySnd
trigger1 = !time
value = 210,0

[State 950, TargetBind1]
type = TargetBind
trigger1 = time = [0,6]
pos = 40,-69

[State 950, TargetBind2]
type = TargetBind
trigger1 = time = [7,10]
pos = 20,0

[State 950, AfterImage]
type = AfterImage
trigger1 = !time
time = 8
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 950, VelSet]
type = VelSet
trigger1 = animelem = 4
x = -4

[State 950, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Immortal Rage
[Statedef 959]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
;anim = 959
sprpriority = 1

[State 959, Time.Set]
type = VarSet
trigger1 = !time && prevstateno!=4100
v = 48
value = 0

[State 959, Armor.On]
type = VarSet
trigger1 = !time && prevstateno != 4100
v = 49
value = 1
[State 959, Armor.HitOverride]
type = HitOverride
trigger1 = var(49) > 0
attr = SCA, AA, AP, AT
stateno = 4100

[State 959, Sound]
type = PlaySnd
trigger1 = var(48)=1
value = 1740, 0

[State 959, Voice]
type = PlaySnd
trigger1 = var(48)=12
value = 1, 8
channel = 0
volumescale = 100

[State 959, Animation]
type = ChangeAnim
trigger1 = !time && prevstateno != 4100 && (anim != [957,958])
value = 957
[State 959, Animation]
type = ChangeAnim
trigger1 = (var(48)=[18,22]) && anim = 957
value = 958
[State 959, Animation]
type = ChangeAnim
trigger1 = (var(48)>22) && anim = 958
value = 959

[State 959, EnvShake]
type = EnvShake
trigger1 = var(48)=18
Time = 16
freq = 60
ampl = -3

[State 959, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = !time
v = 38
value = 1

[State 959, AfterImage.Pulse.Helper]
type = Helper
trigger1 = var(48)=2
trigger2 = var(48)=12
trigger3 = var(48)=24
trigger4 = var(48)=36
helpertype = normal
name = "AfterImage Pulse Aura"
ID = 10260
stateno = 10260
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 959, VarSet-General.PalFX]
type = Varset
trigger1 = !var(48)
v = 30
value = 180
[State 300, VarAdd-General.PalFX]
type = VarAdd
trigger1 = (var(48) = [3,52]) && var(30) > 0
v = 30
value = -4
[State 959, PalFX-General.PalFX]
type = PalFX
trigger1 = 1
time = 1
add = var(30),0,0

[State 2107, Rings]
type = Explod
trigger1 = var(48)%8=1 && var(48) < 47
Anim = 10105
Pos = 0, -76
random = 30,30
Id = 10105
sprpriority = 3
removeongethit = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 959, Next]
type = ChangeState
trigger1 = var(48)>=52
value = 960

[State 959, Time.Count]
type = VarAdd
trigger1 = time
v = 48
value = 1

;---------------------------------------------------------------------------
;Immortal Rage - Grab Attempt
[Statedef 960]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 960
sprpriority = 1

[State 960, PlayVoice-"Hyeh"]
type = PlaySnd
trigger1 = !time
value = 1,4
channel = 0
volumescale = 100

[State 960, Sound]
type = PlaySnd
trigger1 = !Time
value = 1500, 0
volumescale = 100

[State 960, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 14

[State 960, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, ST
priority = 2, miss
sparkno = -1
snap = 32,0
p1stateno = 961
p2stateno = 965032
p2facing = 1

[State 959, AfterImage.AuraCreationVar];Remove
type = VarSet
trigger1 = animelem = 3
v = 38
value = 0

[State 960, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Immortal Rage Success!
[Statedef 961]
type = S
movetype = A
physics = S
velset = 0,0
anim = 961
sprpriority = 1

[State 961, Throw_Success_Ring]
type = Explod
trigger1 = !time
Anim = 10105
Pos = 34, -83
Id = 10105
sprpriority = 3
removeongethit = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1

[State 961, GrabSND]
type = PlaySnd
trigger1 = !time
value = 800, 0

[State 961, Invincibility]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 961, Damage]
type = TargetLifeAdd
trigger1 = animelem = 3
trigger2 = animelem = 7
value = -30

[State 961, TState1]
type = TargetState
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
value = 965032
[State 961, TState2]
type = TargetState
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
value = 965081
[State 961, TState3]
type = TargetState
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 9
value = 965082

[State 961, TargetBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
trigger2 = AnimElem = 5, >= 0
trigger2 = AnimElem = 6, < 0
pos = 34,-87
[State 961, TargetBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
trigger2 = AnimElem = 4, >= 0
trigger2 = AnimElem = 5, < 0
trigger3 = AnimElem = 6, >= 0
trigger3 = AnimElem = 7, < 0
trigger4 = AnimElem = 8, >= 0
trigger4 = AnimElem = 9, < 0
pos = -60,-46
[State 961, TargetBind3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
trigger2 = AnimElem = 7, >= 0
trigger2 = AnimElem = 8, < 0
pos = -34,-10
[State 961, TargetBind4]
type = TargetBind
trigger1 = AnimElem = 9, >= 0
pos = -21,-63;21,-63

[State 961, SprPriority1]
type = SprPriority
trigger1 = animelem = 5
trigger2 = animelem = 9
value = 1
[State 961, SprPriority2]
type = SprPriority
trigger1 = animelem = 2
trigger2 = animelem = 6
value = 3

[State 961, AfterImage]
type = AfterImage
trigger1 = animelem = 1
trigger2 = animelem = 5
time = 15
length = 15
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 961, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 6
x = -3.0

[State 961, EnvShake]
type = EnvShake
trigger1 = animelem = 3
trigger2 = animelem = 7
Time = 16
freq = 60
ampl = -3

[State 961, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = animelem = 6
value = 202,0

[State 961, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 7
value = 900,0
volumescale = 100

[State 961, PlayVoice-"RAAAAAGH"]
type = PlaySnd
trigger1 = animelem = 9
value = 9,0
channel = 0
volumescale = 100

[State 961, PoundDust.Helper]
type = Helper
trigger1 = animelem = 3
trigger2 = animelem = 7
name = "PoundDust"
stateno = 15170
postype = p1
pos = -30, 4
keyctrl = 0
ownpal = 1
id = 15170
size.xscale = 0.5
size.yscale = 0.5

[State 961, Cracks]
type = Explod
trigger1 = animelem = 3
trigger2 = animelem = 7
Anim = 15220
Pos = -38, 3
Id = 15220
sprpriority = -4
removeongethit = 0
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 961, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 962
;-------------------------------------------------------------------------
; Immortal Rage Jump!
[Statedef 962]
type = S
movetype = A
physics = N
velset = 0,0
anim = 962
sprpriority = 1

[State 962, Turn]
type = Turn
trigger1 = !time

[State 1000, VelSetY]
Type = VelSet
Trigger1 = !time
x = 1 
y = -8

[State 962, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 962, TState1]
type = TargetState
trigger1 = !time
value = 965082

[State 962, TargetBind1]
type = TargetBind
trigger1 = 1
pos = -4,-136

[State 962, Gravity]
type = Gravity
trigger1 = 1 && pos y < 0

[State 962, AfterImage]
type = AfterImage
trigger1 = !time
time = 24
length = 15
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 962, ChangeState]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 963
;-------------------------------------------------------------------------
; Immortal Rage Break!
[Statedef 963]
type = S
movetype = A
physics = S
velset = 0,0
anim = 963
sprpriority = 1

[State 963, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 963, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 963, TState1]
type = TargetState
trigger1 = !time
value = 965082

[State 963, TState2]
type = TargetState
trigger1 = AnimElem = 2, = 20
value = 965091

[State 963, TargetBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 21,-63
[State 963, TargetBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 2, < 20
pos = 17,-24

[State 959, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = animelem = 2
v = 38
value = 0

[State 963, EnvShake]
type = EnvShake
trigger1 = animelem = 2
Time = 24
freq = 90
ampl = -3

[State 961, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 900, 0
volumescale = 100
[State 961, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = 5102, 0
volumescale = 100

[State 963, Arm]
type = Explod
trigger1 = animelem = 2
Anim = 964
Id = 964
Pos = 0,0
velocity = 0,0
sprpriority = 4
removeongethit = 0
bindtime = 40
Postype = p1
removeongethit = 1
ownpal = 0
[State 963, RemoveArm]
type = RemoveExplod
trigger1 = animelem = 3
Id = 964

;Growing White Light
[State 963, VarSet]
type = Varset
trigger1 = time = 0
fv = 18
value = 0.0
[State 963, Varadd]
type = Varadd
trigger1 = time > 4
fv = 18
value = 0.025

[State 961, Damage]
type = TargetLifeAdd
trigger1 = animelem = 2
value = -80

[State 963, Shockwave]
type = Explod
trigger1 = animelem = 2
Anim = 13111
Pos = 20,-28
Id = 13111
velocity = 0,0
sprpriority = 5
removeongethit = 0
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.01, 0.01
[State 963, ModifyShockwave]
type = ModifyExplod
trigger1 = time > 4
id = 13111
supermovetime = 9999
pausemovetime = 9999
scale = (0.01+fvar(18)),(0.01+fvar(18))

[State 963, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 965
ctrl = 1
;---------------------------------------------------------------------------
;Immortal Rage - Flex
[Statedef 965]
type = S
movetype = I
physics = S
velset = 0,0
ctrl = 0
anim = 965
sprpriority = 0

[State 965, AfterImage.Helper]
type = Helper
triggerall = time%8=0
trigger1 = time = [24,32]
helpertype = normal
name = "AfterImage Pulse Aura"
ID = 10260
stateno = 10260
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 965, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 1702, 1
volumescale = 100
[State 965, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 1740, 0
volumescale = 100

[State 963, EnvShake]
type = EnvShake
trigger1 = animelem = 4
Time = 24
freq = 90
ampl = -2

;Growing White Light
[State 965, VarSet]
type = Varset
trigger1 = time = 0
fv = 18
value = 0.0
[State 965, Varadd]
type = Varadd
trigger1 = time > 24
fv = 18
value = 0.0325
[State 965, Shockwave]
type = Explod
trigger1 = time = 24
Anim = 13111
Pos = -6,-50
Id = 13111
velocity = 0,0
sprpriority = 4
removeongethit = 0
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.01, 0.01
[State 965, ModifyShockwave]
type = ModifyExplod
trigger1 = time > 24
id = 13111
supermovetime = 9999
pausemovetime = 9999
scale = (0.01+fvar(18)),(0.01+fvar(18))

[State 960, Steamed]
type = Explod
trigger1 = (time = [24,36]) && time%2
Anim = 15314+random%4
Pos = -40+random%60, -1-random%70
Id = 15310
sprpriority = 1
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5
accel = 0, -0.1

[State 960, Wind]
type = Explod
trigger1 = animelem = 4
Anim = 15100
Pos = 0,-38
Id = 15100
velocity = 0,0
sprpriority = 3
removeongethit = 0
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.5, 0.5

[State 960, Rocks.Helper]
type = Helper
triggerall = time%2
trigger1 = time = [24,36]
name = "Rocks"
stateno = 15292
postype = p1
pos = -40+random%60, -1
keyctrl = 0
ownpal = 0
id = 15292
size.xscale = 0.25
size.yscale = 0.25

[State 965, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Fireball Forward
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = ifelse(prevstateno=1001,1001,1000)

[State 1000, Sound]
type = PlaySnd
trigger1 = time = 8
value = 1000,0

[State 1000, Ring]
type = Explod
trigger1 = time = 8
Anim = 12010
Pos = 43, -80
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1000, Ki.Helper]
type = Helper
trigger1 = time = 8
name = "FireBall"
stateno = 12151
postype = p1
pos = 35, -80
keyctrl = 0
ownpal = 1
id = 12150
size.xscale = 0.33
size.yscale = 0.33

[State 1000, Explod-Flash]
type = Explod
trigger1 = time=8
Anim = 13115
Pos = 45, -80
Id = 13115
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1000, VarSet]
type = VarSet
trigger1 = !time
v = 14
value = 0

[State 1000, VarSet]
type = VarSet
trigger1 = !time && prevstateno != 1001
v = 15
value = 0

[State 1000, End]
type = ChangeState
trigger1 = power <= 0
value = 1003

[State 1000, End2]
type = ChangeState
trigger1 = var(15) < 3 && time = 8
value = 1001
;---------------------------------------------------------------------------
;Fireball Forward - Continued
[Statedef 1001]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1001

[State 1001, VarSet]
type = VarSet
triggerall = Var(14) = 0
trigger1 = (command = "x" || command = "y" || command = "z") && !AILevel
trigger2 = (time = 4 && random < 650+(AILevel*35)) && (AILevel && power > 80)
v = 14
value = 1
[State 1001, VarAdd]
type = VarAdd
;triggerall = Var(14) = 0
;trigger1 = (command = "x" || command = "y" || command = "z") && !AILevel
;trigger2 = (time = 4 && random < 650+(AILevel*35)) && (AILevel && power > 80)
trigger1 = var(14)=1
v = 15
value = 1
[State 1001, VarSet]
type = VarSet
trigger1 = Var(14) = 1
v = 14
value = 2

[State 1001, End]
type = ChangeState
trigger1 = var(15) < 3 && time > 8 && var(14)>0
value = 1000

[State 1001, End]
type = ChangeState
trigger1 = !animtime
value = 1003
;---------------------------------------------------------------------------
;Hand Beam
[Statedef 1002]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1001

[State 1001, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1002,0
volumescale = 70

[State 1001, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 2, 3
channel = 0
volumescale = 100

[State 1001, Sound]
type = PlaySnd
trigger1 = time = 17
value = 1000,1
volumescale = 70

[State 1001, Ball]
type = Explod
trigger1 = time = 0
Anim = 12610
Pos = 43, -80
Id = 12610
sprpriority = 3
removeongethit = 1
;removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1001, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -4

[State 1001, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1001, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 3, 1
channel = 0
volumescale = 100

[State 1001, Ring]
type = Explod
trigger1 = time = 17
Anim = 12010
Pos = 42, -80
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.40, 0.40

[State 1001, Beam.Helper]
type = Helper
trigger1 = time = 17
name = "HandBeam"
stateno = 12710
postype = p1
pos = 40, -80
keyctrl = 0
ownpal = 1
id = 12700
size.xscale = 0.2
size.yscale = 0.2

[State 1001, Tired]
type = ChangeState
trigger1 = !animtime && power <= 0
value = 5300
ctrl = 1

[State 1001, End]
type = ChangeState
trigger1 = !animtime && power > 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball End
[Statedef 1003]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1003

[State 1003, Tired]
type = ChangeState
trigger1 = !animtime && power <= 4
value = 5300
ctrl = 1

[State 1003, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Shoulder Bash Weak
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 1,0     
ctrl = 0  
poweradd = 65
sprpriority = 2
anim = 1300

[State 1300, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 1300, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1400, 0

[State 1300, Voice]
type = PlaySnd
triggerall = random < 300
trigger1 = Time = 0
value = 1, 2

[State 1300, VelSet]
type = Velset
trigger1 = animelem = 2
x = 14.0

[State 1300, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 20
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1300, KickDust]
type = Explod
trigger1 = time = 0
Anim = 15010
Pos = -6, 0
velocity = 1
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1300, KiThing]
type = Explod
trigger1 = time = 1
Anim = 12201
Pos = 37, -73
velocity = 0,0
Id = 12200
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
removetime=24
scale = 0.25, 0.25

[State 1300, VarRandom]
type = VarRandom
trigger1 = time
v = 41
range = 0,3

[State 1300, MakeDust]
type = Explod
triggerall = vel x > 1.5
trigger1 = time > 4 && time%2
Anim = 15310+Var(41)
Pos = -35, -1
Id = 15310
sprpriority = 2
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1300, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 70,floor(70/10)
guardflag = MA
pausetime = 13,15
sparkno = S11020
sparkxy = -10,-64
hitsound   = S304,0
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -14
air.velocity = -9,-3
fall = 0
fall.recover = 1
envshake.time = 14
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 1300, VelSet]
type = Velset
trigger1 = movecontact = 1
x = vel x*0.5

[State 1300, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Shoulder Bash Medium
[Statedef 1310]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 1,0     
ctrl = 0  
poweradd = 73
sprpriority = 2
anim = 1300

[State 1310, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 1310, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1400, 0

[State 1310, Voice]
type = PlaySnd
triggerall = random < 300
trigger1 = Time = 0
value = 1, 2

[State 1310, VelSet]
type = Velset
trigger1 = animelem = 2
x = 17.0

[State 1310, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 20
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1310, KickDust]
type = Explod
trigger1 = time = 0
Anim = 15010
Pos = -6, 0
velocity = 1
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1310, KiThing]
type = Explod
trigger1 = time = 1
Anim = 12201
Pos = 37, -73
velocity = 0,0
Id = 12200
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
removetime=24
scale = 0.25, 0.25

[State 1310, VarRandom]
type = VarRandom
trigger1 = time
v = 41
range = 0,3

[State 1310, MakeDust]
type = Explod
triggerall = vel x > 1.5
trigger1 = time > 4 && time%2
Anim = 15310+Var(41)
Pos = -35, -1
Id = 15310
sprpriority = 2
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1310, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 70,floor(70/10)
guardflag = MA
pausetime = 14,16
sparkno = S11020
sparkxy = -10,-64
hitsound   = S304,0
guardsound = S6,0
ground.type = High
ground.slidetime = 19
ground.hittime  = 21
ground.velocity = -14.5
air.velocity = -9,-3
fall = 0
fall.recover = 1
envshake.time = 16
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 1310, VelSet]
type = Velset
trigger1 = movecontact = 1
x = vel x*0.5

[State 1310, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Shoulder Bash Strong
[Statedef 1320]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 1,0     
ctrl = 0  
poweradd = 80
sprpriority = 2
anim = 1300

[State 1320, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 1320, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1400, 0

[State 1320, Voice]
type = PlaySnd
triggerall = random < 300
trigger1 = Time = 0
value = 1, 2

[State 1320, VelSet]
type = Velset
trigger1 = animelem = 2
x = 20.0

[State 1320, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 20
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1320, KickDust]
type = Explod
trigger1 = time = 0
Anim = 15010
Pos = -6, 0
velocity = 1
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1320, KiThing]
type = Explod
trigger1 = time = 1
Anim = 12201
Pos = 37, -73
velocity = 0,0
Id = 12200
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
removetime=24
scale = 0.25, 0.25

[State 1320, VarRandom]
type = VarRandom
trigger1 = time
v = 41
range = 0,3

[State 1320, MakeDust]
type = Explod
triggerall = vel x > 1.5
trigger1 = time > 4 && time%2
Anim = 15310+Var(41)
Pos = -35, -1
Id = 15310
sprpriority = 2
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1320, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 70,floor(70/10)
guardflag = MA
pausetime = 15,17
sparkno = S11020
sparkxy = -10,-64
hitsound   = S304,0
guardsound = S6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -15
air.velocity = -9,-3
fall = 0
fall.recover = 1
envshake.time = 17
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 1320, VelSet]
type = Velset
trigger1 = movecontact = 1
x = vel x*0.5

[State 1320, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Crushing Shoulder Bash
[Statedef 1330]
type    = S
movetype= A
physics = S
juggle = 0
velset = 0,0     
ctrl = 0  
poweradd = 60
sprpriority = 2
anim = 1330

[State 290, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = AnimElem = 2
v = 38
value = 1

[State 1330, Turn]
type = Turn
trigger1 = !time

[State 1330, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 195, Voice]
type = PlaySnd
trigger1 = !time
value = 9, 0
volumescale = 100
channel = 0

[State 1330, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 1330, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1400, 0

[State 1330, Sound-Shockwave]
type = PlaySnd
trigger1 = !time
value = 1740, 0
volumescale = 100

[State 1330, VelSet]
type = Velset
trigger1 = time >= 5
x = 12.0

[State 1330, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 20
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1330, KickDust]
type = Explod
trigger1 = !time
Anim = 15010
Pos = -16, 0
velocity = 1
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1330, KiThing]
type = Explod
trigger1 = time = 1
Anim = 12201
Pos = 42, -55
velocity = 0,0
Id = 12200
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
removetime=24
scale = 0.25, 0.25

[State 1330, VarRandom]
type = VarRandom
trigger1 = time
v = 41
range = 0,3

[State 1330, MakeDust]
type = Explod
triggerall = vel x > 1.5
trigger1 = time > 4 && time%2
Anim = 15310+Var(41)
Pos = -41, -1
Id = 15310
sprpriority = 2
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1330, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, SA
animtype  = Hard
damage    = 45,5
guardflag = MA
pausetime = 12,2
sparkno = S11020
sparkxy = -15,-55
hitsound   = S305,0
guardsound = S6,0
ground.type = High
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -9,-1
air.velocity = -9,-4
fall = 1
fall.recover = 0
envshake.time = 24
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90
p2stateno = 965031

[State 1330, Width]
type = Width
trigger1 = 1
value = 15,0
ignorehitpause = 1

[State 1330, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 45,-60
ignorehitpause = 1

[State 1330, AfterImage.Pulse.Helper]
type = Helper
trigger1 = movehit
helpertype = normal
name = "AfterImage Pulse Aura"
ID = 10260
stateno = 10260
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 1330, ScreenBound]
type = ScreenBound
trigger1 = FrontEdgeBodyDist > 0
movecamera = 0,1
valu= 1

[State 1330, End]
type = ChangeState
trigger1 = !animtime || (FrontEdgeBodyDist <= 0 && !movehit)
value = 0
ctrl = 1

[State 1330, End]
type = ChangeState
trigger1 = FrontEdgeBodyDist <= 0 && movehit
value = 1331
;---------------------------------------------------------------------------
; Crushing Shoulder Bash - Hit Wall
[Statedef 1331]
type    = S
movetype= A
physics = S
juggle = 0
velset = 0,0     
ctrl = 0  
poweradd = 0
sprpriority = 2
anim = 1331

[State 1331, Explosion.Helper]
type = Helper
trigger1 = !time
name = "Kaboom!"
stateno = 13103
postype = p1
pos = 0, -50
keyctrl = 0
ownpal = 1
id = 13103
bindtime = 0

[State 1331, AfterImage.AuraKillVar]
type = VarSet
trigger1 = time = 16
v = 38
value = 0

[State 1331, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1331, ScreenBound]
type = ScreenBound
trigger1 = time < 18
movecamera = 0,1
valu= 1

[State 1331, End]
type = ChangeState
trigger1 = !animtime
value = 1332
ctrl = 1
;---------------------------------------------------------------------------
; Crushing Shoulder Bash - Leap Back
[Statedef 1332]
type    = A
movetype= I
physics = A
juggle = 0
velset = -7,-5
ctrl = 0  
poweradd = 0
sprpriority = 2
anim = 1332

;[State 1332, RunSound]
;type = PlaySnd
;trigger1 = Time = 2
;value = 100, 0

[State 1332, JumpSound]
type = PlaySnd
trigger1 = time = 2
value = 40, 0

[State 1332, PlayerPush]
type = PlayerPush
trigger1 = time < 2
value = 0

[State 1332, AfterImage]
type = AfterImage
trigger1 = time = 4
time = 10
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1332, Dust]
type = Explod
trigger1 = time = 1
Anim = 15011
Pos = 25, 0
Id = 15011
sprpriority = 2
removeongethit = 0
removetime = 24
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.3,0.3

[State 1332, DashLines.Helper]
type = Helper
trigger1 = time=3
name = "Dash Lines"
stateno = 10201
postype = p1
pos = 0
keyctrl = 0
ownpal = 1
id = 10200
ignorehitpause = 1

[State 1331, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Garlic Meteor Start
[Statedef 1350]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
anim = 1350

[State 1350, Voice]
type = PlaySnd
trigger1 = time = 4 && random > 700
value = 1, 8
volumescale = 100
channel = 0

[State 1350, VarSet]
type = VarSet
trigger1 = !time
v = 19
value = 0

[State 1350, Stop]
type = VelSet
Trigger1 = 1
x = 0
y = 0

[State 1350, Sound]
type = PlaySnd
trigger1 = !Time
value = 1955, 0
volumescale = 100

[State 1350, Aura]
type = Explod
trigger1 = !time
Anim = 10000
Pos = 5,-20
Id = 10000
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.6, 0.6

[State 1350,Next]
type = changestate
trigger1 = Time = 14
value = 1351
;---------------------------------------------------------------------------
;Garlic Meteor!
[Statedef 1351]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 65
ctrl = 0
sprpriority = 2
anim = 1351

[State 1351, Sparkle]
type = Explod
trigger1 = 1
anim = 11550
pos = 25-random%51,5-random%61
postype = p1
id = 11150
ownpal = 1
sprpriority = 3
scale = 0.25,0.25
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 1351, Pushlessness]
type = PlayerPush
Trigger1 = 1
value = 0

[State 1351, AfterImage]
type = AfterImage
trigger1 = !time
time = 48
length = 25
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add
;------------------------------
;Choose Aura
[State 1351, Aura.Helper.W]
type = Helper
trigger1 = !time && var(19) = 0
name = "AuraAngled"
stateno = 10003
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 10001
size.xscale = 0.65
size.yscale = 0.65

;Choose Aura
[State 1351, Aura.Helper.M]
type = Helper
trigger1 = !time && var(19) = 1
name = "AuraAngled"
stateno = 10002
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 10001
size.xscale = 0.65
size.yscale = 0.65

[State 1351, Aura.Helper.S]
type = Helper
trigger1 = !time && var(19) = 2
name = "AuraAngled"
stateno = 10001
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 10001
size.xscale = 0.65
size.yscale = 0.65
;-------------------------------
;Choose Velocity
[State 1351, Go.W]
type = VelSet
triggerall = var(19) = 0
Trigger1 = time >= 0 && pos y < 0
x = 6
y = 11

;Choose Velocity
[State 1351, Go.M]
type = VelSet
triggerall = var(19) = 1
Trigger1 = time >= 0 && pos y < 0
x = 8
y = 10.5

;Choose Velocity
[State 1351, Go.S]
type = VelSet
triggerall = var(19) = 2
Trigger1 = time >= 0 && pos y < 0
x = 10
y = 10
;-------------------------------

[State 1351, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 1351, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 100, 1

[State 1351, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 100
value = 1, 5
volumescale = 100
channel = 0

[State 1351, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, SA
damage = 80, 10
hitflag = MAFD
guardflag = HA
animtype  = Hard
priority = 3
pausetime = 4,13
sparkno = S11020
sparkxy = -20,-25
hitsound   = S304,0
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -8,8
air.velocity = -8,8
fall = 1
fall.recover = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -4
envshake.phase = 90

[State 1351, PosSet]
type = PosSet
Trigger1 = pos y > 0
y = 0

[State 1351, PosAdd]
type = PosAdd
Trigger1 = pos y > 0
x = 25

[State 1351, Stop]
type = VelSet
Trigger1 = pos y = 0
x = 0
y = 0

[State 1351,Next]
type = changestate
trigger1 = pos y = 0
value = 1352
;---------------------------------------------------------------------------
;Garlic Meteor End(Lying Down)
[Statedef 1352]
type    = L
movetype= I
physics = C
ctrl = 0
sprpriority = 2
anim = 1352

[State 1401, Cracks]
type = Explod
trigger1 = time = 2
Anim = 15220
Pos = 0, 1
Id = 15220
sprpriority = -4
removeongethit = 0
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 1352, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1705, 0

[State 1352, AfterImage]
type = AfterImage
trigger1 = time=20
time = 1
length = 1
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1352, Explode.Helper]
type = Helper
trigger1 = !time
name = "Explosion"
stateno = 13101
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 13100
size.xscale = 0.75
size.yscale = 0.75

[State 1352, KickDust1]
type = Explod
trigger1 = !time
Anim = 15010
Pos = 24, 0
velocity = 3
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1352, KickDust2]
type = Explod
trigger1 = !time
Anim = 15011
Pos = -24, 0
velocity = -3
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1352, Stop]
type = VelSet
Trigger1 = !time
x = 0
y = 0

[State 1352,Next]
type = changestate
trigger1 = Time = 30
value = 5120
;---------------------------------------------------------------------------
;Garlic Meteor Medium Start
[Statedef 1360]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
anim = 1350

[State 1360, Voice]
type = PlaySnd
trigger1 = time = 4 && random > 700
value = 1, 8
volumescale = 100
channel = 0

[State 1360, VarSet]
type = VarSet
trigger1 = !time
v = 19
value = 1

[State 1350, Stop]
type = VelSet
Trigger1 = 1
x = 0
y = 0

[State 1360, Sound]
type = PlaySnd
trigger1 = !Time
value = 1955, 0
volumescale = 100

[State 1360, Aura]
type = Explod
trigger1 = !time
Anim = 10000
Pos = 5,-20
Id = 10000
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.6, 0.6

[State 1350,Next]
type = changestate
trigger1 = Time = 14
value = 1351
;---------------------------------------------------------------------------
;Garlic Meteor Strong Start
[Statedef 1370]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
anim = 1350

[State 1370, Voice]
type = PlaySnd
trigger1 = time = 4 && random > 700
value = 1, 8
volumescale = 100
channel = 0

[State 1370, VarSet]
type = VarSet
trigger1 = !time
v = 19
value = 2

[State 1350, Stop]
type = VelSet
Trigger1 = 1
x = 0
y = 0

[State 1370, Sound]
type = PlaySnd
trigger1 = !Time
value = 1955, 0
volumescale = 100

[State 1370, Aura]
type = Explod
trigger1 = !time
Anim = 10000
Pos = 5,-20
Id = 10000
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.6, 0.6

[State 1350,Next]
type = changestate
trigger1 = Time = 14
value = 1351
;---------------------------------------------------------------------------
; Ground Pound Weak Start
[Statedef 1400]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = -80
sprpriority = 2
anim = 1400

[State 1400, ChargeSND]
type = PlaySnd
trigger1 = !time
value = 1956, 0

[State 200, SND-Quake]
type = PlaySnd
trigger1 = Time = 21
value = 1008, 0

[State 1400, VarSet]
type = VarSet
trigger1 = !time
v = 13
value = 36
[State 1400, VarAdd]
type = VarAdd
trigger1 = time >= 20 && var(13) < 200
v = 13
value = 2

[State 1400, VarSet]
type = VarSet
trigger1 = !time
v = 19
value = 0

[State 1400, Cracks1]
type = Explod
trigger1 = (time > 16 && time%5=0) && var(13) < 200
Anim = 15230+random%7
Pos = -(var(13))-10, 0
Id = 15230
sprpriority = -3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5
angle = -15+random%31

[State 1400, Cracks2]
type = Explod
trigger1 = (time > 16 && time%5=0) && var(13) < 200
Anim = 15230+random%7
Pos = (var(13)), 0
Id = 15230
sprpriority = -3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5
angle = -15+random%31

[State 1400, Ball1]
type = Explod
trigger1 = time = 2
Anim = 11400
Pos = -61, -99
Id = 11400
sprpriority = 3
removeongethit = 1
removetime = -1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.1, 0.1
[State 1400, Ball2]
type = Explod
trigger1 = time = 2
Anim = 11400
Pos = 28, -98
Id = 11400
sprpriority = 3
removeongethit = 1
removetime = -1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.1, 0.1
[State 1400, ModifyBalls]
type = ModifyExplod
trigger1 = time < 20
ID = 11400
scale = 0.1+(time*0.015),0.1+(time*0.015)
[State 1400, RemoveBalls]
type = RemoveExplod
trigger1 = (command != "hold_a") && (command != "hold_b") && (command != "hold_c") && time >= 20
ID = 11400

[State 1400, FVarSet-Circles-Scale]
type = VarSet
trigger1 = time%20=10
fv = 17
value = 0.05
[State 1400, FVarAdd-Circles-Scale]
type = VarAdd
trigger1 = 1
fv = 17
value = 0.02
[State 1400, Explod-Circle1]
type = Explod
trigger1 = time%20=10
Anim = 10101
Pos = -61, -99
Id = 10101
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = fvar(17),fvar(17)
[State 1400, Explod-Circle2]
type = Explod
trigger1 = time%20=10
Anim = 10101
Pos = 28, -98
Id = 10101
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = fvar(17),fvar(17)

[State 1400, ModifyExplod-Circles]
type = ModifyExplod
trigger1 = 1
Id = 10101
scale = fvar(17),fvar(17)

[State 1400, RemoveExplod-Circles]
type = RemoveExplod
trigger1 = (command != "hold_a") && (command != "hold_b") && (command != "hold_c") && time >= 20
Id = 10101

[State 1400, Shake]
type = EnvShake
trigger1 = time%16=10 && var(13) < 185
Time = 16
freq = 16
ampl = -1


[State 1400, VarSet-General.PalFX]
type = VarRangeSet
trigger1 = !time
first = 30
last = 32
value = 0

[State 1400, General.PalFX-R]
type = VarAdd
triggerall = var(33) = stateno
trigger1 = (var(13) < 200) && var(30) < 140 && time>24
v = 30
value = 2
[State 1400, General.PalFX-G]
type = VarAdd
triggerall = var(33) = stateno
trigger1 = (var(13) < 200) && var(31) < 84  && time%3>0 && time>24
v = 31
value = 1
[State 1400, General.PalFX-B]
type = VarAdd
triggerall = var(33) = stateno
trigger1 = !time
v = 32
value = 0

[State 1400, PalFX-General.PalFX]
type = PalFX
triggerall = var(33) = stateno
trigger1 = var(13) <= 200
time = 1
add = var(30),var(31),var(32)

[State 1400, VarSet-General.PalFX.State]
type = Varset
trigger1 = !time
v = 33
value = stateno
[State 1400, VarSet-General.PalFX.NoState]
type = Varset
trigger1 = var(13) >= 200 && var(33) = stateno
v = 33
value = -1

[State 1400, AfterImage.Pulse.Helper]
type = Helper
triggerall = time%8=4
trigger1 = time = [84,100]
helpertype = normal
name = "AfterImage Pulse Aura"
ID = 10260
stateno = 10260
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 1400, Sound]
type = PlaySnd
trigger1 = time = 84
value = 1740, 0

[State 1400, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = time = 84
v = 38
value = 1

[State 1400, End]
type = ChangeState
trigger1 = (command != "hold_a") && (command != "hold_b") && (command != "hold_c") && time >= 20
value = 1401
ctrl = 1
;---------------------------------------------------------------------------
; Ground Pound
[Statedef 1401]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = -120
sprpriority = 2
anim = 1401

[State 1400, AfterImage.AuraReset]
type = VarSet
trigger1 = time = 10
v = 38
value = 0

[State 1401, RemoveBalls]
type = RemoveExplod
trigger1 = !time
ID = 11400

[State 1400, Voice]
type = PlaySnd
trigger1 = !time && random%4>0
value = 1, 9
volumescale = 100
channel = 0

[State 1401, Swing]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 1401, Smash]
type = PlaySnd
trigger1 = animelem = 2
value = 1952, 0

[State 1401, Streaks]
type = Explod
trigger1 = animelem = 2
Anim = 12640
Pos = 3,-7
Id = 12640
velocity = 0,0
sprpriority = 3
removeongethit = 1
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.6, 0.6

[State 1401, PoundDust.Helper]
type = Helper
trigger1 = animelem = 2
name = "PoundDust"
stateno = 15170
postype = p1
pos = 17, 0
keyctrl = 0
ownpal = 1
id = 15170
size.xscale = 0.5
size.yscale = 0.5

[State 1401, Cracks]
type = Explod
trigger1 = animelem = 2
Anim = 15220
Pos = 0, 3
Id = 15220
sprpriority = -4
removeongethit = 0
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 1401, Ki.Helper]
type = Helper
trigger1 = (animelem = 2 && numhelper(12550)=0)
name = "GroundEnergy_Fwd"
stateno = 14000
postype = p1
pos = var(13), 0;37+Var(19)*40, 0
keyctrl = 0
ownpal = 1
id = 14000
size.xscale = 0.35;+Var(19)*0.05
size.yscale = 0.35;+Var(19)*0.05

[State 1401, Ki.Helper]
type = Helper
trigger1 = (animelem = 2 && numhelper(12550)=0)
name = "GroundEnergy_Bck"
stateno = 14005
postype = p1
pos = -var(13), 0;-33-Var(19)*40, 0
keyctrl = 0
ownpal = 1
id = 14005
size.xscale = 0.35;+Var(19)*0.05
size.yscale = 0.35;+Var(19)*0.05

[State 1401, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Hard
damage    = 40,5
guardflag = MA
pausetime = 11,6
sparkno = S11020
sparkxy = -10,-40
hitsound   = S303,0
guardsound = S6,1
ground.type = Low
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -4,8
air.velocity = -7,8
fall = 1
fall.recover = 0
fall.xvelocity = -3
fall.yvelocity = -9
down.bounce = 1
envshake.time = 16
envshake.freq = 160
envshake.ampl = -3
envshake.phase = 90

[State 1401, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Ground Pound Medium Start
[Statedef 1410]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = -65
sprpriority = 2
anim = 1400

[State 1410, Voice]
type = PlaySnd
trigger1 = time = 20 && random > 600
value = 1, 9
volumescale = 100
channel = 0

[State 1410, ChargeSND]
type = PlaySnd
trigger1 = !time
value = 1956, 0

[State 1410, VarSet]
type = VarSet
trigger1 = !time
v = 19
value = 1

[State 1410, Ball1]
type = Explod
trigger1 = time = 2
Anim = 11400
Pos = -54, -96
Id = 11400
sprpriority = 3
removeongethit = 1
removetime = 50
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.1, 0.1

[State 1410, Ball2]
type = Explod
trigger1 = time = 2
Anim = 11400
Pos = 26, -97
Id = 11400
sprpriority = 3
removeongethit = 1
removetime = 50
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.1, 0.1

[State 1410, ModifyBalls]
type = ModifyExplod
trigger1 = time
ID = 11400
scale = 0.1+(time*0.015),0.1+(time*0.015)

[State 1410, RemoveBalls]
type = RemoveExplod
trigger1 = time = 22
ID = 11400

[State 1410, End]
type = ChangeState
trigger1 = Time = 22
value = 1401
ctrl = 1
;---------------------------------------------------------------------------
; Ground Pound Strong Start
[Statedef 1420]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = -80
sprpriority = 2
anim = 1400

[State 1420, ChargeSND]
type = PlaySnd
trigger1 = !time
value = 1956, 0

[State 1420, Voice]
type = PlaySnd
trigger1 = time = 22 && random > 600
value = 1, 9
volumescale = 100
channel = 0

[State 1420, VarSet]
type = VarSet
trigger1 = !time
v = 19
value = 2

[State 1420, Ball1]
type = Explod
trigger1 = time = 2
Anim = 11400
Pos = -54, -96
Id = 11400
sprpriority = 3
removeongethit = 1
removetime = 50
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.1, 0.1

[State 1420, Ball2]
type = Explod
trigger1 = time = 2
Anim = 11400
Pos = 26, -97
Id = 11400
sprpriority = 3
removeongethit = 1
removetime = 50
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.1, 0.1

[State 1420, ModifyBalls]
type = ModifyExplod
trigger1 = time
ID = 11400
scale = 0.1+(time*0.015),0.1+(time*0.015)

[State 1420, RemoveBalls]
type = RemoveExplod
trigger1 = time = 24
ID = 11400

[State 1420, End]
type = ChangeState
trigger1 = Time = 24
value = 1401
ctrl = 1
;---------------------------------------------------------------------------
; Knee Smash Up - Prepare to run foward
[Statedef 1507]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = (vel x)*0.9,0
sprpriority = 2

[State 1507, End]
type = ChangeState
trigger1 = Time = 5
value = 1508
;---------------------------------------------------------------------------
; Knee Smash Up - Run Forward
[Statedef 1508]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
sprpriority = 2
anim = 1508

[State 1508, Voice]
type = PlaySnd
trigger1 = !time && random > 600
value = 1, 0
volumescale = 100
channel = 0

[State 1508, KickDust]
type = Explod
trigger1 =time= 1
Anim = 15010
Pos = -10, 0
Id = 15010
sprpriority = 2
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1508, DashLines.Helper]
type = Helper
trigger1 = time=2
name = "Dash Lines"
stateno = 10200
postype = p1
pos = 0
keyctrl = 0
ownpal = 1
id = 10200
ignorehitpause = 1

[State 1508, VelSet]
type = Velset
trigger1 = !time
x = 16.0
y = 0

[State 1508, AfterImage]
type = AfterImage
trigger1 = !time
time = 14
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1508, Sound]
type = PlaySnd
trigger1 = !Time
value = 100, 0

[State 1508, HitDef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 30,6
guardflag = MA
pausetime = 14,12
sparkno = S11020
sparkxy = -12,-68
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -(vel x)+0.1,-8.3
air.velocity = -(vel x)+0.1,-8.3
air.fall = 1
fall = 1
envshake.time = 12
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 1508, Fall]
type = ChangeState
trigger1 = p2bodydist x <= 0
value = 1509

[State 1508, Fall]
type = ChangeState
trigger1 = !animtime || time = 14
value = 101
ctrl = 1
;---------------------------------------------------------------------------
; Instant -  Knee Smash Up
[Statedef 1509]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 50
ctrl = 0
sprpriority = 2
anim = 1509

[State 1509, effect.Helper]
type = Helper
trigger1 = animelem = 2
name = "KneeUp_Effect"
stateno = 12630
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12630
size.xscale = 0.6
size.yscale = 0.6
[State 1509, KickDust]
type = Explod
triggerall = pos y >= 0
trigger1 = animelem = 2
Anim = 15150
Pos = -14, 9
velocity = 0
Id = 15150
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5
[State 1509, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 23
length = 14
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1509, PosSet-Ground]
type = PosSet
trigger1 = animelem = 2
y = -1

[State 1509, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
physics = A

[State 1509, VelSet]
type = Velset
trigger1 = animelem = 2
x = 4.0
y = -9

[State 1509, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 1509, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 30,6
guardflag = MA
pausetime = 14,12
sparkno = S11020
sparkxy = -12,-68
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3.75,-8.3
air.velocity = -3.75,-8.3
air.fall = 1
fall = 1
envshake.time = 12
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

;[State 1509, TargetBind]
;type = TargetBind
;trigger1 = movehit=1
;pos = 12,-68

[State 1509, Fall]
type = ChangeState
trigger1 = !animtime || time = 28
value = 51
ctrl = 1
;---------------------------------------------------------------------------
; Knee Smash Up
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 50
ctrl = 0
velset = 1,0
sprpriority = 2
anim = 1500

[State 1500, effect.Helper]
type = Helper
trigger1 = animelem = 2
name = "KneeUp_Effect"
stateno = 12630
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12630
size.xscale = 0.6
size.yscale = 0.6

[State 1500, KickDust]
type = Explod
triggerall = pos y >= 0
trigger1 = animelem = 2
Anim = 15150
Pos = -14, 9
velocity = 0
Id = 15150
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1500, Voice]
type = PlaySnd
trigger1 = !time && random > 600
value = 1, 0
volumescale = 100
channel = 0

[State 1500, VelSet]
type = Velset
trigger1 = (time = [0,4]) && vel y > 0
x = 0
y = 0

[State 1300, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 23
length = 14
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1500, PosSet-Ground]
type = PosSet
trigger1 = animelem = 2
y = -1

[State 1500, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
physics = A

[State 1500, VelSet]
type = Velset
trigger1 = animelem = 2
x = 1.3
y = -9

[State 1500, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 1500, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 30,6
guardflag = MA
pausetime = 14,12
sparkno = S11020
sparkxy = -12,-68
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -(vel x)+0.1,-8.3
air.velocity = -(vel x)+0.1,-8.3
air.fall = 1
fall = 1
envshake.time = 12
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

;[State 1500, TargetBind]
;type = TargetBind
;trigger1 = movehit=1
;pos = 12,-68

[State 1500, Fall]
type = ChangeState
trigger1 = !animtime || time = 28
value = 51
ctrl = 1

;---------------------------------------------------------------------------
; Ready Big Punch
[Statedef 1501]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 20
ctrl = 0
sprpriority = 2
anim = 1501

[State 1501, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 24
length = 14
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1500, Gravity]
type = Veladd
trigger1 = pos y < 0
y = 0.46

[State 1500, PosSet-Ground]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 1500, VelSet]
type = Velset
trigger1 = pos y >= 0
x = 0
y = 0

[State 1502, Next]
type = ChangeState
trigger1 = pos y = 0
value = 1502
ctrl = 0
;---------------------------------------------------------------------------
; Big Punch
; CNS difficulty: easy
[Statedef 1502]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 50
ctrl = 0
velset = 1,0
sprpriority = 2
anim = 1502

[State 1502, Shake]
type = EnvShake
trigger1 = !time
Time = 16
freq = 90
ampl = -3
phase = 0

[State 1502, Sound]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 1500, Effect.Helper]
type = Helper
trigger1 = !time
name = "Anal_Fisting_Effect"
stateno = 12660
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12660
size.xscale = 0.3
size.yscale = 0.5

[State 1502, Whirlwind.Helper]
type = Helper
trigger1 = !time
name = "Whirl_Effect"
stateno = 15501
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 15501
size.xscale = 0.25
size.yscale = 0.4

[State 1502, PunchDust]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
Anim = 15010
Pos = 53, 0
velocity = -1
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.2,0.2

[State 1502, PunchDust]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
Anim = 15011
Pos = 62, 0
velocity = 1
Id = 15011
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1502, Ring]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
Anim = 10010
Pos = 57, 0
Id = 10010
sprpriority = 1
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1502, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 60,12
hitflag   = MAFD
guardflag = MA
pausetime = 16,12
sparkno = S11020
sparkxy = -28,-26
hitsound   = S303,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -4,10
air.velocity = -4,10
fall = 1
air.fall = 1
fall.recover = 0
fall.xvelocity = -3.5
fall.yvelocity = -8.0
down.bounce = 1
envshake.time = 16
envshake.freq = 140
envshake.ampl = -5
envshake.phase = 90

[State 1502, Control]
type = CtrlSet
trigger1 = time = 24
value = 1

[State 1502, 4]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Knee Smash Up Medium
[Statedef 1510]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 50
ctrl = 0
velset = 1,0
sprpriority = 2
anim = 1500

[State 1510, effect.Helper]
type = Helper
trigger1 = animelem = 2
name = "KneeUp_Effect"
stateno = 12630
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12630
size.xscale = 0.6
size.yscale = 0.6

[State 1510, KickDust]
type = Explod
triggerall = pos y >= 0
trigger1 = animelem = 2
Anim = 15150
Pos = -14, 9
velocity = 0
Id = 15150
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1510, Voice]
type = PlaySnd
trigger1 = !time && random > 600
value = 1, 1
volumescale = 100
channel = 0

[State 1510, VelSet]
type = Velset
trigger1 = (time = [0,4]) && vel y > 0
x = 0
y = 0

[State 1510, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 23
length = 14
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1510, PosSet-Ground]
type = PosSet
trigger1 = animelem = 2
y = -1

[State 1510, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
physics = A

[State 1510, VelSet]
type = Velset
trigger1 = animelem = 2
x = 1.75
y = -7.5

[State 1510, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 1510, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 35,7
guardflag = MA
pausetime = 14,12
sparkno = S11020
sparkxy = -12,-68
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5,-5.8
air.velocity = -1.5,-5.8
air.fall = 1
fall = 1
envshake.time = 12
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 1510, Next]
type = ChangeState
trigger1 = !animtime || time = 24
value = 1501
ctrl = 1
;---------------------------------------------------------------------------
; Knee Smash Up Strong
[Statedef 1520]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 50
ctrl = 0
velset = 1,0
sprpriority = 2
anim = 1500

[State 1520, effect.Helper]
type = Helper
trigger1 = animelem = 2
name = "KneeUp_Effect"
stateno = 12630
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12630
size.xscale = 0.6
size.yscale = 0.6

[State 1520, KickDust]
type = Explod
triggerall = pos y >= 0
trigger1 = animelem = 2
Anim = 15150
Pos = -14, 9
velocity = 0
Id = 15150
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1520, Voice]
type = PlaySnd
trigger1 = !time && random > 600
value = 1, 1
volumescale = 100
channel = 0

[State 1520, VelSet]
type = Velset
trigger1 = (time = [0,4]) && vel y > 0
x = 0
y = 0

[State 1520, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 23
length = 14
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1520, PosSet-Ground]
type = PosSet
trigger1 = animelem = 2
y = -1

[State 1520, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
physics = A

[State 1520, VelSet]
type = Velset
trigger1 = animelem = 2
x = 2.15
y = -8.0

[State 1520, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 1520, HitDef]
type = HitDef
trigger1 = !Time
attr = S, SA
animtype  = Hard
damage    = 40,8
guardflag = MA
pausetime = 14,12
sparkno = S11020
sparkxy = -12,-68
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.75,-6.3
air.velocity = -1.75,-6.3
air.fall = 1
fall = 1
envshake.time = 12
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 1520, Next]
type = ChangeState
trigger1 = !animtime || time = 24
value = 1501
ctrl = 1
;---------------------------------------------------------------------------
; Knee Smash Up - Prepare to run foward
[Statedef 1530]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = (vel x)*0.9,0
sprpriority = 2

[State 1530, End]
type = ChangeState
trigger1 = Time = 5
value = 1531
;---------------------------------------------------------------------------
; Knee Smash Up - Run Forward
[Statedef 1531]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
sprpriority = 2
anim = 1531

[State 1531, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = !time
v = 38
value = 1

[State 1531, Voice]
type = PlaySnd
trigger1 = !time && random > 600
value = 1, 0
volumescale = 100
channel = 0

[State 1531, KickDust]
type = Explod
trigger1 =time= 1
Anim = 15010
Pos = -10, 0
Id = 15010
sprpriority = 2
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1531, DashLines.Helper]
type = Helper
trigger1 = time=2
name = "Dash Lines"
stateno = 10200
postype = p1
pos = 0
keyctrl = 0
ownpal = 1
id = 10200
ignorehitpause = 1

[State 1531, VelSet]
type = Velset
trigger1 = !time
x = 16.0
y = 0

[State 1531, AfterImage]
type = AfterImage
trigger1 = !time
time = 34
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1531, Sound-Dash]
type = PlaySnd
trigger1 = !Time
value = 100, 0

[State 1531, HitDef]
type = HitDef
trigger1 = !time
attr = S, SA
animtype  = Hard
damage    = 10,6
guardflag = MA
pausetime = 14,12
sparkno = S11020
sparkxy = -12,-68
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -(vel x)+0.1,-8.3
air.velocity = -(vel x)+0.1,-8.3
air.fall = 1
fall = 1
envshake.time = 12
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 1531, Fall]
type = ChangeState
trigger1 = p2bodydist x <= 0
value = 1532

[State 1531, Fall]
type = ChangeState
trigger1 = !animtime || time = 14
value = 101
ctrl = 1
;---------------------------------------------------------------------------
; Instant -  Knee Smash Up
[Statedef 1532]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 50
ctrl = 0
sprpriority = 2
anim = 1532

[State 1532, effect.Helper]
type = Helper
trigger1 = animelem = 2
name = "KneeUp_Effect"
stateno = 12630
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12630
size.xscale = 0.6
size.yscale = 0.6
[State 1532, KickDust]
type = Explod
triggerall = pos y >= 0
trigger1 = animelem = 2
Anim = 15150
Pos = -14, 9
velocity = 0
Id = 15150
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1532, PosSet-Ground]
type = PosSet
trigger1 = animelem = 2
y = -1

[State 1532, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
physics = A

[State 1532, VelSet]
type = Velset
trigger1 = animelem = 2
x = 4.0
y = -9

[State 1532, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 1532, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 30,6
guardflag = MA
pausetime = 16,15
sparkno = S11020
sparkxy = -12,-68
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3.75,-8.3
air.velocity = -3.75,-8.3
air.fall = 1
fall = 1
envshake.time = 12
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

;[State 1532, TargetBind]
;type = TargetBind
;trigger1 = movehit=1
;pos = 12,-68

[State 1532, Fall]
type = ChangeState
trigger1 = !animtime || time = 28
value = 51
ctrl = 1
;---------------------------------------------------------------------------
; Ready Big Punch - Hangtime
[Statedef 1533]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 20
ctrl = 0
sprpriority = 2
anim = 1533

[State 1533, Gravity]
type = Veladd
trigger1 = pos y < 0
y = 0.46

[State 1533, PosSet-Ground]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 1533, VelSet]
type = Velset
trigger1 = vel y >= 0.44
x = 0
y = 0

[State 1533, Next]
type = ChangeState
trigger1 = time = 16
value = 1534
ctrl = 0
;---------------------------------------------------------------------------
; Thrust your mighty fist
[Statedef 1534]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 20
ctrl = 0
sprpriority = 2
anim = 1534
velset = 12,12

[State 1534, Sounds-PowerSwing]
type = PlaySnd
trigger1 = !Time
value = 210, 0
volumescale = 100

[State 1534, Sound-Poom]
type = PlaySnd
trigger1 = !Time
value = 1740, 0
volumescale = 100

[State 1534, Effect.Helper]
type = Helper
trigger1 = !time
name = "Fist_Effect"
stateno = 12660
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12660
size.xscale = 0.3
size.yscale = 0.5

[State 1534, HitDef]
type = HitDef
trigger1 = !Time
attr = S, SA
animtype  = Hard
damage    = 20,2
hitflag   = MAFD
guardflag = MA
pausetime = 2,2
sparkno = S11020
sparkxy = -28,-26
hitsound   = S304,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -4,10
air.velocity = -4,10
fall = 1
air.fall = 1
fall.recover = 0
fall.xvelocity = -3.5
fall.yvelocity = -8.0
down.bounce = 1
envshake.time = 16
envshake.freq = 140
envshake.ampl = -5
envshake.phase = 90

[State 1534, Gravity]
type = Veladd
trigger1 = pos y < 0
y = 0.46

[State 1534, PosSet-Ground]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 1534, VelSet]
type = Velset
trigger1 = pos y >= 0
x = 0
y = 0

[State 1534, Next]
type = ChangeState
trigger1 = pos y = 0
value = 1535
ctrl = 0
;---------------------------------------------------------------------------
; Big Punch
; CNS difficulty: easy
[Statedef 1535]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 50
ctrl = 0
velset = 1,0
sprpriority = 2
anim = 1535

[State 1535, Shake]
type = EnvShake
trigger1 = !time
Time = 16
freq = 90
ampl = -3
phase = 0

[State 1535, Whirlwind.Helper]
type = Helper
trigger1 = !time
name = "Whirl_Effect"
stateno = 15501
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 15501
size.xscale = 0.25
size.yscale = 0.4

[State 1535, PunchDust]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
Anim = 15340
Pos = 53, 0
velocity = -1
Id = 15340
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.2,0.2

[State 1535, PunchDust]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
Anim = 15341
Pos = 62, 0
velocity = 1
Id = 15341
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1535, Ring]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
Anim = 10010
Pos = 57, 0
Id = 10010
sprpriority = 1
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1535, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 60,12
hitflag   = MAFD
guardflag = MA
pausetime = 16,12
sparkno = S11020
sparkxy = -28,-26
hitsound   = S305,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -4,10
air.velocity = -4,10
fall = 1
air.fall = 1
fall.recover = 0
fall.xvelocity = -3.5
fall.yvelocity = -8.0
down.bounce = 1
envshake.time = 16
envshake.freq = 140
envshake.ampl = -5
envshake.phase = 90

[State 1535, End]
type = ChangeState
trigger1 = time = 28
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Dash Grab - Immortal Rage
[Statedef 1550]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1550
sprpriority = 0

[State 1550, VarSet]
type = VarSet
trigger1 = !time
v = 18
value = 20

[State 1550, VarAdd]
type = VarAdd
trigger1 = time >= 4
v = 18
value = -1

[State 1550, RunSound]
type = PlaySnd
trigger1 = Time = 1 && BackEdgeBodydist > -5
value = 100, 0

[State 1550, AfterImage]
type = AfterImage
trigger1 = time = 4
time = 20
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1550, KickDust]
type = Explod
trigger1 = time = 1
Anim = 15010
Pos = -10, 0
Id = 15010
sprpriority = 2
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1550, DashLines.Helper]
type = Helper
trigger1 = time=3
name = "Dash Lines"
stateno = 10200
postype = p1
pos = 0
keyctrl = 0
ownpal = 1
id = 10200
ignorehitpause = 1

[State 1550, VarRandom]
type = VarRandom
trigger1 = time
v = 41
range = 0,3

[State 1550, MakeDust]
type = Explod
trigger1 = time > 4 && time%2
Anim = 15310+Var(41)
Pos = -35, -1
Id = 15310
sprpriority = 2
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1550, VelSet]
type = VelSet
trigger1 = time >= 4
x = 10.0

[State 1550, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, ST
priority = 2, miss
sparkno = -1
p1stateno = 1551
p2stateno = 965081;965032
p2facing = -1
id = 65032

[State 1550, End]
type = ChangeState
trigger1 = var(18) <= 0;!animtime
value = 101
ctrl = 1
;---------------------------------------------------------------------------
;Dash Grab - Immortal Rage
[Statedef 1551]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1551
sprpriority = 1

[State 1550, VelSet]
type = VelSet
trigger1 = 1
x = 10.0

[State 1551, TargetBind]
type = TargetBind
trigger1 = 1
pos = -8,-38

[State 1551, End]
type = ChangeState
trigger1 = Time = var(18);!animtime
value = 1552
ctrl = 1
;---------------------------------------------------------------------------
;Dash Grab - Immortal Rage
[Statedef 1552]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1552
sprpriority = 1

[State 1552, GrabSND]
type = PlaySnd
trigger1 = !time
value = 800, 0

[State 1552, Invincibility]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1552, TState1]
type = TargetState
trigger1 = AnimElem = 1
value = 965032

[State 1552, TargetBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 30,-87
[State 1552, TargetBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = -30,-87
[State 1552, TargetBind3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
pos = 34,-93

[State 1552, SprPriority1]
type = SprPriority
trigger1 = animelem = 2
value = 3
[State 1552, SprPriority2]
type = SprPriority
trigger1 = animelem = 3
value = 1

[State 1552, End]
type = ChangeState
trigger1 = !animtime
value = 961
ctrl = 1

;---------------------------------------------------------------------------
; Hellfire Kick
[Statedef 1570]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 0
sprpriority = 2
anim = 1570

[State 1570, Accumulate_Energy.Helper]
type = Helper
triggerall = !numhelper(20012)
trigger1 = !time
name = "Helper:Accumulate_Energy_Lines"
id = 20012
stateno = 20012
postype = p1
pos = -8,-60
keyctrl = 0
ownpal = 1
bindtime = -1
size.xscale = 1.0
size.yscale = 1.0

[State 1570, Time.Set]
type = VarSet
trigger1 = !time && prevstateno!=4100
v = 48
value = 0

[State 1570, Armor.On]
type = VarSet
trigger1 = !time && prevstateno != 4100
v = 49
value = 1
[State 1570, Armor.HitOverride]
type = HitOverride
trigger1 = var(49) > 0
attr = SCA, AA, AP, AT
stateno = 4100

[State 1570, PlaySND]
type = PlaySnd
trigger1 = var(48)=1
value = 1702, 1

[State 1570, PosSet]
type = Posadd
trigger1 = var(48)>=28 && pos y >= 0
y = -1

[State 1570, AfterImage.Pulse.Helper]
type = Helper
trigger1 = var(48)=2
trigger2 = var(48)=10
trigger3 = var(48)=18
helpertype = normal
name = "AfterImage Pulse Aura"
ID = 10260
stateno = 10260
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 1570, Voice]
type = PlaySnd
trigger1 = !var(48)
value = 1, 9
volumescale = 100
channel = 0

[State 1570, VarSet-General.PalFX]
type = Varset
trigger1 = !var(48)
v = 30
value = 180
[State 1570, VarAdd-General.PalFX]
type = VarAdd
trigger1 = (var(48) = [3,28]) && var(30) > 0
v = 30
value = -7
[State 1570, PalFX-General.PalFX]
type = PalFX
trigger1 = 1
time = 1
add = var(30),0,0

[State 1570, End]
type = ChangeState
trigger1 = var(48)>=28
value = 1571

[State 1570, Time.Count]
type = VarAdd
trigger1 = time
v = 48
value = 1
;---------------------------------------------------------------------------
; Hellfire Kick 
[Statedef 1571]
type    = A
movetype= A
physics = A
juggle  = 0
velset = 0,-12.0
poweradd = 0
sprpriority = 2
anim = 1571

[State 1571, Shake]
type = EnvShake
trigger1 = !time
Time = 18

[State 1571, PlaySND]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 1571, PlaySND]
type = PlaySnd
trigger1 = !time
value = 1740, 0

[State 1571, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = !time
v = 38
value = 1

[State 1571, KiBeam.Helper]
type = Helper
trigger1 = !time
name = "KiBeamUp"
stateno = 12750
id = 12750
postype = p1
pos = 0, -10
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999
size.xscale = 0.25
size.yscale = 0.5

[State 1571, Hitdef]
type = HitDef
trigger1 = animelem = 1
attr = S, SA
animtype  = Hard
damage    = 10,2
guardflag = MA
pausetime = 8,6
sparkno = S11010
sparkxy = -6,-62
hitsound   = S302,0
guardsound = S6,0
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0,-9
air.velocity = 0,-9
fall = 1
fall.recover = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90
kill = 0

[State 1571, Hitdef]
type = HitDef
trigger1 = animelem = 2
attr = S, SA
animtype  = Hard
damage    = 120,12
guardflag = MA
pausetime = 16,16
sparkno = S11020
sparkxy = -6,-92
hitsound   = S305,0
guardsound = S6,0
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.4,-9.2
air.velocity = -2.4,-9.2
fall = 1
fall.recover = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 1570, End]
type = ChangeState
trigger1 = vel y >= 0 || time = 40
value = 1572
;---------------------------------------------------------------------------
; Hellfire Kick - Back Flip
[Statedef 1572]
type    = A
movetype= A
physics = A
juggle  = 0
velset = -4,-4     
ctrl = 0  
poweradd = 0
sprpriority = 2
anim = 1572

[State 1572, End]
type = ChangeState
trigger1 = !animtime
value = 50
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Start
[Statedef 1700]
type = S
physics = S
velset = 0,0
ctrl = 0

[State 1700, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = time = 2
Anim = 10010
Pos = -11, 4
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 10
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.85, 0.85

[State 1700, Animation]
type = ChangeAnim
trigger1 = !time
value = 1700

[State 1700, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1700, Limit]
type = null;ChangeState
trigger1 = Power >= 3000
value = 0
ctrl = 1


[State 16021, Accumulate_Energy.Helper]
type = Helper
triggerall = !numhelper(20012)
trigger1 = !time
name = "Helper:Accumulate_Energy_Lines"
id = 20012
stateno = 20012
postype = p1
pos = 0,-30
keyctrl = 0
ownpal = 1
bindtime = -1
size.xscale = 1.0
size.yscale = 1.0

[State 1700, Next]
type = ChangeState
trigger1 = !animtime
value = 1701
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Charging
[Statedef 1701]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1701

[State 1701, AfterImage.Helper]
type = Helper
trigger1 = time <= 16 && time%8=0
helpertype = normal
name = "AfterImage Pulse Aura"
ID = 10260
stateno = 10260
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 1701, Voice]
type = PlaySnd
trigger1 = Time = 1
value = 1, 8
channel = 0
volumescale = 100

[State 1701, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1700, 0

[State 1701, AuraSND]
type = PlaySnd
triggerall = time >= 12
trigger1 = TimeMod = 26,0
value = 1700,1

[State 1701, PlaySND]
type = PlaySnd
triggerall = time >= 12
trigger1 = time = 12
trigger2 = TimeMod = 220,0
value = 181, 0

[State 1701, Wind]
type = Explod
trigger1 = !time
Anim = 15100
Pos = 0,-38
Id = 15100
velocity = 0,0
sprpriority = 3
removeongethit = 0
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.5, 0.5

[State 1701, Sparkles.Helper]
type = Helper
triggerall = !numhelper(20001)
trigger1 = !time
name = "Sparkles20001"
stateno = 20001
id = 20001
postype = p1
pos = -3, 0
keyctrl = 0
ownpal = 1
SuperMovetime = 9999
pausetime = 9999

[State 1701, Aura]
type = Explod
trigger1 = timemod = 12,0
Anim = 10000
Pos = -6,0
Id = 10000
sprpriority = 3
removeongethit = 1
removetime = 12
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.65

[State 1701, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = timemod = 12,0
Anim = 10010
Pos = -9, 1
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 12
Postype = p1
Bindtime = 12
SuperMove = 1
ownpal = 1
scale = 0.85, 0.85
;------------------------------------------
;Screen Tinting, Flashing and Shaking
[State 1701, VarRandom]
type = VarRandom
trigger1 = 1
v = 4
range = 0,16

[State 1701, Flash]
type = AllPalFx
triggerall = time >= 20
trigger1 = random%24=0
add = 128,128,128
Time = 3


[State 1701, Shake]
type = EnvShake
triggerall = time >= 10
trigger1 = Timemod = 8,0
Time = 8
freq = 60
ampl = -4
phase = -90

[State 1701, VarSet]
type = varset
trigger1 = time = 0
v = 10
value = 0

[State 1701, Varadd]
type = varadd
trigger1 = time = [10,90]
v = 10
value = 1

[state 1701, BGColorFX]
type = BGPalFX
trigger1 = Time > 10
time = 1
add = floor(var(10)/4),-floor(var(10)*1.25),-floor(var(10)*1.25)
;---------------------------------
;Power Charge Life Charge and Full Power Change
[State 1701, PowerAdd]
type = PowerAdd
trigger1 = Time > 0
value = 6

[State 1701, LifeAdd]
type = LifeAdd
triggerall = power < 3000
trigger1 = Time % 10=0
value = 1

[State 1701, LifeAdd]
type = LifeAdd
triggerall = power >= 3000
trigger1 = Time % 5=0
value = 1

[State 1701, Limit]
type = ChangeState
trigger1 = Power >= 3000
value = 1702
ctrl = 1
;------------------------------------
[State 1701, RockScale]
type = VarRandom
trigger1 = 1
v = 16
range = 20,35

[State 1701, RumbleSND]
type = PlaySnd
triggerall = time >= 80
trigger1 = TimeMod = 24,0
value = 1701,0

[State 1701, Rock.Helper]
type = Helper
triggerall = time >= 20 && Pos Y >= -10
trigger1 = gametime%26=1
name = "Rock15293"
stateno = 15293
postype = p1
pos = -150+random%301, -floor(pos y)
keyctrl = 0
ownpal = 1
id = 15293
size.xscale = 0.5
size.yscale = 0.5
;------------------------------------
;Electricity Effects
[State 1701, ElecA]
type = Explod
trigger1 = time % 80 = 0
Anim = 10020
Pos = -11,-8
Id = 10020
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.9

[State 1701, ElecB]
type = Explod
trigger1 = time % 80 = 16
Anim = 10021
Pos = -35,-60
Id = 10021
velocity = 0,-0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.7

[State 1701, ElecC]
type = Explod
trigger1 = time % 80 = 32
Anim = 10022
Pos = -38,-70
Id = 10022
sprpriority = 3
removeongethit = 1
removetime = 20
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 1701, ElecD]
type = Explod
trigger1 = time % 80 = 48
Anim = 10023
Pos = -40,-16
Id = 10023
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 1701, ElecE]
type = Explod
trigger1 = time % 80 = 64
Anim = 10024
Pos = 10,-36
Id = 10024
velocity = 0,0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.7
;--------------------------------------
;Pushing Helper and End State if let go of buttons
[State 1701, PushBack.Helper]
type = Helper
trigger1 = !Time
trigger2 = Time = 8
name = "PushBack"
stateno = 12650
postype = p1
pos = -8, 0
keyctrl = 0
ownpal = 1
id = 12650

[State 1701, PushFwd.Helper]
type = Helper
trigger1 = !Time
trigger2 = Time = 8
name = "PushFwd"
stateno = 12651
postype = p1
pos = 8, 0
keyctrl = 0
ownpal = 1
id = 12651

[State 1800, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = var(38)=0 && power > 1000
v = 38
value = 1

[State 1701, Stop.Next]
type = ChangeState
triggerall = !animtime
trigger1 = command != "hold_b" && command != "hold_y"
trigger2 = AILevel && p2bodydist x < 50 && random < 300
trigger3 = enemy, numproj>0 && random < 50
value = 1702
ctrl = 0
;-------------------------------------------------------------------------
; Charge Power Over
[Statedef 1702]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0

[State 1702, Animation]
type = ChangeAnim
trigger1 = !time
value = 1702

[State 1702, RemoveAura]
Type = RemoveExplod
trigger1 = AnimElem = 1
ID = 10000

[State 1701, Voice]
type = PlaySnd
trigger1 = Time = 0 && power >= 3000 && random < 250
value = 1,4

[State 1701, PlaySND]
type = PlaySnd
trigger1 = Time = 0 && power >= 3000
value = 1702,0

[State 1702, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Belly Beam Charge
[Statedef 1800]
type    = S
movetype= I
physics = S
poweradd= -1000
ctrl = 0
velset = 0
anim = 1800

[State 1800, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = !time
v = 38
value = 1

[State 1800, VarRandom]
type = VarRandom
trigger1 = !time
v = 6
range = 0,3

[State 1800, Voice]
type = PlaySnd
triggerall = Var(6)=0 || Var(6)=1
trigger1 = time = 0
value = 2,1
volumescale = 100
channel = 0

[State 1800, Voice]
type = PlaySnd
triggerall = Var(6)=2
trigger1 = time = 1
value = 1,9
volumescale = 100
channel = 0

[State 1800, SuperEffect]
type = Explod
trigger1 = time = 0
Anim = 12900
Pos = -12, -59
Id = 12900
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = -1
ownpal = 1
scale = 0.5, 0.5
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 1800, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 28
anim = -1
sound = S1800,0
pos = -16,-58
darken = 0
unhittable = 1

[State 1800, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1800, SuperPic.Helper]
type = Helper
trigger1 = time = 0
name = "SuperPic"
stateno = 19005
id = 19005
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 0
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 1800, BlackFade]
type = Explod
trigger1 = time = 0
Anim = 19001
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 1
Postype = left
Bindtime = 1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 1001, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1002,0

[State 1800, End]
type = ChangeState
trigger1 = Time = 6 
value = 1801
ctrl = 1
;---------------------------------------------------------------------------
;Energy Wave Shoot/End
[Statedef 1801]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 0
anim = 1801

[State 1801, Shockwave]
type = Explod
trigger1 = !time
Anim = 10101
Pos = -6,-66
Id = 10101
velocity = 0,0
sprpriority = 5
removeongethit = 0
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.25, 0.25

[State 1800, ModifyExplod]
type = ModifyExplod
trigger1 = time
id = 10101
supermovetime = 9999
pausemovetime = 9999
scale = (0.25+((time)*0.08)),(0.25+((time)*0.08))

[State 1800, Voice]
type = PlaySnd
triggerall = Var(6)=3
trigger1 = time = 0
value = 9,0
volumescale = 100
channel = 0

[State 1801, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1900,0
volumescale = 100

[State 1801, Sound]
type = PlaySnd
trigger1 = time = 10
value = 1954,0
volumescale = 100

[State 1801, Shake]
type = EnvShake
trigger1 = time = 0
Time = 18

[State 1801, RingDust.Helper]
type = Helper
trigger1 = !time
name = "BellyDust"
stateno = 12645
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12645
size.xscale = 0.25
size.yscale = 0.45

[State 1801, EnergyWave.Helper]
type = Helper
triggerall = time < 20
trigger1 = Timemod = 2,0
name = "BellyBeams"
stateno = 12800
postype = p1
pos = -8, -69
keyctrl = 0
ownpal = 1
id = 12800
size.xscale = 0.5
size.yscale = 0.5

[State 1801, WhirlWindEffect]
type = Explod
trigger1 = time = 4
Anim = 12810
Pos = 35, -65
Id = 12810
sprpriority = 5
removeongethit = 1
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.25, 0.25

[State 1801, WhirlWindEffect]
type = Explod
trigger1 = time = 13
Anim = 12811
Pos = 110, -64
Id = 12811
sprpriority = 5
removeongethit = 1
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.375, 0.375

[State 1801, WhirlWindEffect]
type = Explod
trigger1 = time = 27
Anim = 12812
Pos = 220, -63
Id = 12812
sprpriority = 5
removeongethit = 1
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.5, 0.5

[State 1801, WhirlWindEffect]
type = Explod
trigger1 = time = 37
Anim = 12813
Pos = 335, -62
Id = 12813
sprpriority = 5
removeongethit = 1
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.625, 0.625

[State 1801, WhirlWindEffect]
type = Explod
trigger1 = time = 47
Anim = 12813
Pos = 450, -61
Id = 12813
sprpriority = 5
removeongethit = 1
Postype = p1
Bindtime = 1
ownpal = 1
scale = 0.75, 0.75

[State 1801, Tired]
type = ChangeState
trigger1 = !animtime && power = 0
value = 5300
ctrl = 1

[State 1801, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = -1,-1
value	= 1

[State 1801, AfterImage.AuraKillVar]
type = VarSet
trigger1 = time = 90
v = 38
value = 0

[State 1801, End]
type = ChangeState
trigger1 = Time = 108
value	= 0
ctrl = 1
;---------------------------------------------------------------------------
;Bash 'n' Blast Start
[Statedef 1900]
type    = S
movetype= I
physics = S
poweradd= -1000
ctrl = 0
velset = 0
anim = 1800

[State 1900, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = !time
v = 38
value = 1

[State 1900, SuperEffect]
type = Explod
trigger1 = !time
Anim = 12900
Pos = -7, -73
Id = 12900
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = -1
ownpal = 1
scale = 0.5, 0.5
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 1900, SuperPause]
type = SuperPause
trigger1 = !time
time = 28
anim = -1
sound = S1800,0
pos = -26,-58
darken = 0
unhittable = 1

[State 1900, VelSetY]
Type = VelSet
Trigger1 = !time
y = 0

[State 1900, SuperPic.Helper]
type = Helper
trigger1 = time = 0
name = "SuperPic"
stateno = 19005
id = 19005
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 0
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 1900, BlackFade]
type = Explod
trigger1 = time = 0
Anim = 19001
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 1
Postype = left
Bindtime = 1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 1900, End]
type = ChangeState
trigger1 = Time = 8 
value = 1901
ctrl = 1
;---------------------------------------------------------------------------
; Bash'n'Blast Shoulder Bash
[Statedef 1901]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 1,0     
ctrl = 0  
poweradd = 0
sprpriority = 2
anim = 1901

[State 1901, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1400, 0

[State 1901, VarRandom]
type = VarRandom
trigger1 = !time
v = 6
range = 0,3

[State 1901, KickDust]
type = Explod
trigger1 = time = 0
Anim = 15010
Pos = 4, 0
velocity = 2
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1901, KiThing]
type = Explod
trigger1 = time = 1
Anim = 12200
Pos = 36, -74
velocity = 0,0
Id = 12200
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
removetime=24
scale = 0.3, 0.3

[State 1901, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 1901, PlaySND1]
type = PlaySnd
triggerall = var(6)=0
trigger1 = time = 0
value = 1,7
channel = 0
volumescale = 100

[State 1900, PlaySND2]
type = PlaySnd
triggerall = var(6)=1
trigger1 = time = 0
value = 9,0
channel = 0
volumescale = 100

[State 1901, VelSet]
type = Velset
trigger1 = time = [0,8]
x = 16.0

[State 1901, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 24
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 1901, HitDef]
type = HitDef
trigger1 = !time
attr = S, HA
animtype  = Hard
damage    = 70,floor(70/10)
hiflag = MAFD
guardflag = MA
pausetime = 8,8
sparkno = S11020
sparkxy = -10,-74
snap = 20,-20
hitsound   = S302,0
guardsound = S6,0
getpower = 0
ground.type = High
ground.slidetime = 14
ground.hittime  = 15
ground.velocity = -20,-6
air.velocity = -20,-6
fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 90
p2stateno = 95000
priority = 5

[State 1901, End]
type = ChangeState
trigger1 = !animtime && movehit && abs(p2bodydist x) > 30
value = 1902
ctrl = 1

[State 1901, End]
type = ChangeState
trigger1 = !animtime && movehit && abs(p2bodydist x) <= 30
trigger2 = movehit > 18 && frontedgebodydist < 30
value = 1903
ctrl = 1

[State 1901, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Bash'n'Blast
[Statedef 1902]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 0
sprpriority = 2
anim = 1902

[State 1902, PlaySND1]
type = PlaySnd
triggerall = var(6)=2
trigger1 = time = 1
value = 2,0
channel = 0
volumescale = 100

[State 1902, PlaySND2]
type = PlaySnd
triggerall = var(6)=3
trigger1 = time = 1
value = 9,7
channel = 0
volumescale = 100

[State 1902, PlaySND]
type = PlaySnd
trigger1 = (animelem = 3 && numhelper(12500)=0) || (animelem = 2 && p2stateno = 95004 && p2bodydist y > 0 && numhelper(12500)=0)
value = 1951,0
volumescale = 90

[State 1902, Ring]
type = Explod
trigger1 = (animelem = 3 && numhelper(12500)=0) || (animelem = 2 && p2stateno = 95004 && p2bodydist y > 0 && numhelper(12500)=0)
Anim = 12010
Pos = 44, -78
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1902, Explod-Flash]
type = Explod
trigger1 = (animelem = 3 && numhelper(12500)=0) || (animelem = 2 && p2stateno = 95004 && p2bodydist y > 0 && numhelper(12500)=0)
Anim = 13116
Pos = 48, -80
Id = 13115
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1902, Ki.Helper]
type = Helper
trigger1 = (animelem = 3 && numhelper(12500)=0) || (animelem = 2 && p2stateno = 95004 && p2bodydist y > 0 && numhelper(12500)=0)
name = "SuperBlast"
stateno = 12500
postype = p1
pos = 48, -78
keyctrl = 0
ownpal = 1
id = 12500
size.xscale = 0.50
size.yscale = 0.50

[State 1901, AfterImage.AuraKillVar]
type = VarSet
trigger1 = time = 54
v = 38
value = 0

[State 1902, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Bash'n'Blast(Leaping Back)
[Statedef 1903]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 0
sprpriority = 2
anim = 1903

[State 1903, VelSet]
type = VelSet
trigger1 = time = [0,8]
x= -13.0

[State 1903, PlaySND1]
type = PlaySnd
triggerall = var(6)=2
trigger1 = time = 1
value = 2,0
channel = 0
volumescale = 100

[State 1903, PlaySND2]
type = PlaySnd
triggerall = var(6)=3
trigger1 = time = 1
value = 9,7
channel = 0
volumescale = 100

[State 1903, PlaySND]
type = PlaySnd
trigger1 = (animelem = 3 && numhelper(12500)=0) || (animelem = 2 && p2stateno = 95004 && p2bodydist y > 0 && numhelper(12500)=0)
value = 1951,0
volumescale = 90

[State 1903, Ring]
type = Explod
trigger1 = (animelem = 3 && numhelper(12500)=0) || (animelem = 2 && p2stateno = 95004 && p2bodydist y > 0 && numhelper(12500)=0)
Anim = 12010
Pos = 44, -70
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1903, Explod-Flash]
type = Explod
trigger1 = (animelem = 3 && numhelper(12500)=0) || (animelem = 2 && p2stateno = 95004 && p2bodydist y > 0 && numhelper(12500)=0)
Anim = 13116
Pos = 48, -70
Id = 13115
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1903, Ki.Helper]
type = Helper
trigger1 = (animelem = 3 && numhelper(12500)=0) || (animelem = 2 && p2stateno = 95004 && p2bodydist y > 0 && numhelper(12500)=0)
name = "SuperBlast"
stateno = 12500
postype = p1
pos = 48, -70
keyctrl = 0
ownpal = 1
id = 12500
size.xscale = 0.50
size.yscale = 0.50

[State 1901, AfterImage.AuraKillVar]
type = VarSet
trigger1 = time = 16
v = 38
value = 0

[State 1903, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Dead Zone Start
[Statedef 1999]
type    = S
movetype= I
physics = S
poweradd= -3000
ctrl = 0
velset = 0
anim = 1999

[State 1999, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 28
anim = S12411
sound = S1800,0
pos = -26,-58
darken = 0
unhittable = 1

[State 1999, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1999, Voice]
type = PlaySnd
trigger1 = time = 0
value = 999,0
volumescale = 100
channel = 0

[State 1999, SuperPic.Helper]
type = Helper
trigger1 = time = 0
name = "SuperPic"
stateno = 19000
id = 19000
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 0
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 1999, BlackFade]
type = Explod
trigger1 = time = 0
Anim = 19002
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 0
Postype = left
Bindtime = -1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 1999, End]
type = ChangeState
trigger1 = Time = 8 
value = 2001
ctrl = 1
;---------------------------------------------------------------------------
; Dead Zone 2.0
[Statedef 2000]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = -3000
sprpriority = 2
anim = 2000

[State 2000, Voice]
type = PlaySnd
trigger1 = !time && prevstateno != 4100
value = 999,0
volumescale = 100
channel = 0

[State 2000, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = !time
v = 38
value = 1

[State 2000, Armor.On]
type = VarSet
trigger1 = !time && prevstateno != 4100
v = 49
value = 7

[State 2000, VarSet-DeadZone.Detection]
type = Varset
trigger1 = !time && prevstateno != 4100
v = 26
value = 1

[State 2000, SuperPause]
type = SuperPause
trigger1 = !time && prevstateno != 4100
time = 28
anim = S12411
sound = S1800,0
pos = -26,-58
darken = 0
unhittable = 1
[State 1999, SuperPic.Helper]
type = Helper
trigger1 = !time && prevstateno != 4100
name = "SuperPic"
stateno = 19000
id = 19000
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 0
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
[State 1999, BlackFade]
type = Explod
trigger1 = !time && prevstateno != 4100
Anim = 19002
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 0
Postype = left
Bindtime = -1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 2000, Gather.Power]
type = Helper
trigger1 = var(48) = 10
name = "SparkleAbsorb"
stateno = 20021
postype = p1
pos = -5,-57
keyctrl = 0
ownpal = 1
id = 20020
supermovetime  = 9999
pausemovetime  = 9999

[State 2000, Time.Set]
type = VarSet
trigger1 = !time && prevstateno!=4100
v = 48
value = 0
[State 2000, Time.Count]
type = VarAdd
trigger1 = time
v = 48
value = 1

[State 2000, VarSet-PalFx]
type = Varset
triggerall = Var(51) = 0
trigger1 = var(48) = 0
v = 32
value = 5
[State 2000, VarAdd-PalFx]
type = VarAdd
triggerall = Var(51) = 0
trigger1 = (var(48) = [40,160])
v = 32
value = 1
[State 2000, PalFX]
type = PalFX
triggerall = Var(51) = 0
trigger1 = var(48) = [40,160]
time = 1
add = Var(32),0,0

[State 2000, Armor.HitOverride]
type = HitOverride
trigger1 = var(49) > 0
attr = SCA, AA, AP, AT
stateno = 4100

[State 2000, Voice]
type = PlaySnd
trigger1 = var(48) = 149
value = 5, 10
volumescale = 100

[State 2000, End]
type = ChangeState
trigger1 = var(48) = 159
value = 2001
ctrl = 1
;---------------------------------------------------------------------------
;Dead Zone Open Void
[Statedef 2001]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 0
anim = 2001

[State 2000, Pause]
type = Pause
trigger1 = time%1=0
time = 1

[State 2001, Clouds]
type = Explod
trigger1 = time = 1
Anim = 16001
Pos = 250, 200
velocity = -0.5,-0.5
Id = 16001
sprpriority = 4
removeongethit = 0
Postype = back
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1.0, 1.0

[State 2001, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1900,0
volumescale = 80

[State 2001, Shake]
type = EnvShake
trigger1 = time = 5
Time = 30
freq = 90
ampl = -1
phase = 0
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 2001, Shake]
type = EnvShake
trigger1 = time = 20
Time = 30
freq = 90
ampl = -2
phase = 0
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 2001, Shake]
type = EnvShake
trigger1 = time = 35
Time = 30
freq = 90
ampl = -3
phase = 0
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 2001, VarSet:X]
type = VarSet
trigger1 = !time
v = 24
value = floor(ifelse(backedgebodydist < 160, (80-backedgebodydist)+80, -80))
[State 2001, VarSet:Y]
type = VarSet
trigger1 = !time
v = 25
value = floor((pos y)-170)

[State 2001, BlackHole]
type = null;Explod
trigger1 = time = 50
anim = 16050
pos = var(24),var(25);70, -170
postype = p1
velocity = 0,0
Id = 16050
sprpriority = 5
removeongethit = 0
Bindtime = 1
ownpal = 1
scale = 0.16, 0.16

[State 2001, DeadZone.Helper]
type = Helper
trigger1 = Time = 50
name = "Helper:DeadZone"
stateno = 16000
postype = p1
pos = var(24),var(25);70, -170
keyctrl = 0
ownpal = 1
bindtime = 1
id = 16000
size.ground.front = 1
size.ground.back = 1
size.xscale = 0.6
size.yscale = 0.6

[State 2001, Accumulate_Energy.Helper]
type = Helper
triggerall = !numhelper(20013)
trigger1 = !time
name = "Helper:Accumulate_Energy_Lines"
id = 20013
stateno = 20013
postype = p1
pos = var(24),var(25);70, -170
keyctrl = 0
ownpal = 1
bindtime = 1

[State 2001, CameraA.Helper]
type = Helper
trigger1 = !time
name = "DZCamA"
stateno = 99996
postype = left
pos = 1,0
keyctrl = 0
ownpal = 1
id = 99996
size.ground.front = 1
size.ground.back = 1
[State 2001, CameraB.Helper]
type = Helper
trigger1 = !time
name = "DZCamB"
stateno = 99997
postype = right
pos = -1,0
keyctrl = 0
ownpal = 1
id = 99997
size.ground.front = 1
size.ground.back = 1

[State 2001, VarSet - DeadZone.Detection.Reset]
type = VarSet
triggerall = var(26) = 1
trigger1 = time = 50
v = 26
value = 0

[State 2001, Tired]
type = ChangeState
trigger1 = !animtime && !power
value = 5300
ctrl = 1

[State 2001, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 1,1
value = 1

[State 2001, End]
type = ChangeState
trigger1 = Time = 340
value	= 2002
ctrl = 1
;---------------------------------------------------------------------------
;Dead Zone Close Void
[Statedef 2002]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 0
anim = 2001

[State 2001, VarSet - DeadZone.Detection.Reset]
type = VarSet
triggerall = var(26) = 1
trigger1 = !time
v = 26
value = 0

[State 2002, Slowest]
type = Pause
triggerall = time = [0,20]
trigger1 = time % 1=0
time = 1

[State 2002, Slower]
type = Pause
triggerall = time = [21,30]
trigger1 = time % 2=0
time = 1

[State 2002, Slow]
type = Pause
triggerall = time = [31,40]
trigger1 = time % 3=0
time = 1

[State 2002, End]
type = ChangeState
trigger1 = Time = 60;40
value	= 0
ctrl = 1
;---------------------------------------------------------------------------
;Rush and Crush Start
[Statedef 2100]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 2100

[State 2100, AfterImage.AuraCreationVar]
type = VarSet
trigger1 = !time
v = 38
value = 1

[State 2100, VarRandom]
type = VarRandom
trigger1 = !time
v = 6
range = 0,1

[State 2100, PlaySND1]
type = PlaySnd
triggerall = var(6)=0
trigger1 = !time
value = 2,2
channel = 0
volumescale = 100

[State 2100, PlaySND1]
type = PlaySnd
triggerall = var(6)=1
trigger1 = !time
value = 2,4
channel = 0
volumescale = 100

[State 2100, SuperEffect1]
type = Explod
trigger1 = time = 0
Anim = 12901
Pos = -29, -54
Id = 12900
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = -1
ownpal = 1
scale = 0.35, 0.35
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 2100, SuperEffect2]
type = Explod
trigger1 = time = 0
Anim = 12900
Pos = 27, -50
Id = 12900
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = -1
ownpal = 1
scale = 0.3, 0.3
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 2100, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 28
anim = -1
sound = S1800,0
pos = -26,-58
darken = 0
unhittable = 1

[State 2100, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 2100, SuperPic.Helper]
type = Helper
trigger1 = time = 0
name = "SuperPic"
stateno = 19000
id = 19000
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 0
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 2100, BlackFade]
type = Explod
trigger1 = time = 0
Anim = 19001
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 1
Postype = left
Bindtime = 1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 2100, End]
type = ChangeState
trigger1 = Time = 8 
value = 2101
ctrl = 1
;---------------------------------------------------------------------------
; Rush and Crush- Elbow Dash
[Statedef 2101]
type    = S
movetype= A
physics = S
juggle  = 0   
ctrl = 0  
poweradd = -2000
sprpriority = 2
anim = 2101

[State 2101, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1400, 0

[State 2101, KickDust]
type = Explod
trigger1 = time = 0
Anim = 15010
Pos = 4, 0
velocity = 2
Id = 15010
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 2101, KiThing]
type = Explod
trigger1 = time = 1
Anim = 12200
Pos = 48, -57
velocity = 0,0
Id = 12200
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
removetime=24
scale = 0.35, 0.25

[State 2101, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 2101, VelSet]
type = Velset
trigger1 = time = [0,18]
x = 16.0

[State 2101, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 20
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 2101, HitDef]
type = HitDef
trigger1 = !time 
attr = S, HA
animtype  = Hard
damage    = 100,10
hiflag = MAFD
guardflag = MA
pausetime = 8,8
sparkno = S11020
sparkxy = -10,-60
hitsound   = S303,0
guardsound = S6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 15
ground.velocity = -15,-7
air.velocity = -15,-7
getpower = 0
fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 90
p2stateno = 95000
kill = 0
priority = 5

[State 2101, End]
type = ChangeState
trigger1 = !animtime && movehit
;trigger2 = p2stateno = 95003
value = 2102

[State 2102, Screenbound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 2101, End]
type = ChangeState
trigger1 = !animtime
value = 101
ctrl = 1
;---------------------------------------------------------------------------
; Rush and Crush- Teleport Animation
[Statedef 2102]
type    = S
movetype= A
physics = S
juggle  = 0  
ctrl = 0  
poweradd = 0
sprpriority = 1
anim = 2102

[State 2102, PlaySND]
type = PlaySnd
Trigger1 = !time
value = 2900,0

[State 2102, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2102, Screenbound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 2101, End]
type = ChangeState
trigger1 = !animtime && p2stateno != [95000,95001]
value = 2103
;---------------------------------------------------------------------------
; Rush and Crush- Elbow Back
[Statedef 2103]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 0
sprpriority = 2
anim = 2103

[State 2103, Laugh]
type = PlaySnd
trigger1 = movehit = 1
value = 9, 10
volumescale = 90
channel = 0

[State 2103, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2103, Screenbound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1

[State 2103, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 2103, PosSet]
type = Posadd
trigger1 = !time
x = p2dist x + 40

[State 2103, VelSet]
type = Velset
triggerall = !movecontact
trigger1 = time = [1,5]
x = -4.0

[State 2103, VelStop]
type = Velset
trigger1 = movecontact
x = 0

[State 2103, KickDust]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 15011
Pos = 25, 0
Id = 15011
sprpriority = 2
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.2,0.2
velocity = 1,0

[State 2103, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 20
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 2103, HitDef]
type = HitDef
trigger1 = !time
attr = S, HA
animtype  = Hard
damage    = 50,5
snap = -52,-20
hiflag = MAFD
guardflag = MA
pausetime = 4,36
sparkno = S11010
sparkxy = 0,-65
hitsound   = S302,0
guardsound = S6,0
getpower = 0
ground.type = High
ground.slidetime = 14
ground.hittime  = 15
ground.velocity = 3,-3
air.velocity = 3,-3
fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 120
envshake.ampl = -5
envshake.phase = 90
kill = 0
priority = 5

[State 2103, End]
type = ChangeState
trigger1 = !animtime && movehit
value = 2104

[State 2103, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Rush and Crush-Upper
[Statedef 2104]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 2
anim = 2104

[State 2001, Camera.Helper]
type = Helper
trigger1 = !time
name = "Helper:RushSlam_FreezeCam"
stateno = 99994
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
id = 99994
size.ground.front = 1
size.ground.back = 1

[State 2104, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 2104, HitDef]
type = HitDef
trigger1 = !Time
attr = S, HA
animtype  = Medium
damage    = 50,5
guardflag = MA
pausetime = 8,24
sparkno = S11020
sparkxy = -23,-85
hitsound   = S303,0
guardsound = S6,0
getpower = 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 7,-15
air.velocity = 7,-15
envshake.time = 25
envshake.freq = 70
envshake.ampl = -3
envshake.phase = 90
kill = 0
priority = 5

[State 2104, Turn]
type = Turn
trigger1 = !animtime

[State 2104, Next]
type = ChangeState
trigger1 = !animtime && movehit
value = 2105

[State 2104, End]
type = ChangeState
trigger1 = !animtime && !movehit
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Rush and Crush- Teleport Up
[Statedef 2105]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 0
sprpriority = 2
anim = 2105

[State 2105, PlaySND]
type = PlaySnd
Trigger1 = animelem = 2
value = 2900,0

[State 2105, MoveUp]
type = VelSet
Trigger1 = time > 4
x = 6
y = -13

[State 2105, AfterImage]
type = AfterImage
trigger1 = time = 3
time = 6
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 2105, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2105, TelePosX]
type = VarSet
trigger1 = !animtime
v = 35
value = floor(p2dist X)
[State 2105, TelePosY]
type = VarSet
trigger1 = !animtime
v = 36
value = floor(p2dist Y + 20)

[State 2105, TeleTrail.Helper]
type = Helper
trigger1 = !animtime
name = "Trail"
stateno = 17900
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 17900
size.xscale = 1
size.yscale = 1

[State 2105, Teleport-PosAdd]
type = PosAdd
Trigger1 = !animtime
x = var(35)
y = var(36)

[State 2105, End]
type = ChangeState
trigger1 = !animtime
value = 2106
;---------------------------------------------------------------------------
; Rush and Crush- Grab
[Statedef 2106]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 0
sprpriority = 1
anim = 2106

[State 2001, Camera.Helper]
type = Helper
trigger1 = !time
name = "Helper:RushSlam_SuperCam"
stateno = 99995
postype = p1
pos = 0,-20
keyctrl = 0
ownpal = 1
id = 99995
size.ground.front = 1
size.ground.back = 1

[State 2106, VelSet]
type = VelSet
Trigger1 = !time
x = 0
y = 0

[State 2106, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2106, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, HT
priority = 5, miss
sparkno = -1
p1stateno = 2107
p2stateno = 95035

[State 2106, End]
type = ChangeState
trigger1 = !animtime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Rush and Crush- Falling Slam
[Statedef 2107]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 0
sprpriority = 0
anim = 2107

[State 2107, Throw_Success_Ring]
type = Explod
trigger1 = !time
Anim = 10105
Pos = 48, -95
Id = 10105
sprpriority = 3
removeongethit = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1

[State 2107, AfterImage.Helper]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "AfterImage Pulse Aura"
ID = 10260
stateno = 10260
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 2107, Aura]
type = Explod
triggerall = time > 20
trigger1 = timemod = 12,0
Anim = 10000
Pos = ifelse(time < 56, -5, -17),0
Id = 10000
sprpriority = 3
removeongethit = 1
removetime = 12
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.6

[State 2107, AuraSND]
type = PlaySnd
trigger1 = time = 20
value = 1700, 0

[State 1701, AuraSND]
type = PlaySnd
triggerall = time >= 20
trigger1 = TimeMod = 26,0
value = 1700,1

[State 2107, GrabSND]
type = PlaySnd
trigger1 = !time
value = 800, 0

[State 2107, EnvShake]
type = EnvShake
trigger1 = !Time
time = 80
freq = 120
ampl = -3
phase = 90

[State 2107, VelSet]
type = VelSet
triggerall = pos y < 0
trigger1 = animelem = 3
x = 0
y = 10

[State 2107, VelAdd]
type = VelAdd
triggerall = pos y < 0
trigger1 = animelem = 3, > 0
x = 0
y = .44

[State 2107, VelStop]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 2107, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 2107, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2107, SprPriority]
type = SprPriority
Trigger1 = animelem = 2
value = 2

[State 2107, FallSND]
type = PlaySnd
trigger1 = animelem = 3
value = 100, 1

[State 2107, TargetBind1]
type = TargetBind
triggerall = pos y < 0
Trigger1 = animelem = 1, >= 0
pos = 45,-77;38,-77

[State 2107, TargetBind2]
type = TargetBind
triggerall = pos y < 0
Trigger1 = animelem = 2, >= 0
pos = -52,-54

[State 2107, TargetBind3]
type = TargetBind
triggerall = pos y < 0
Trigger1 = animelem = 3, >= 0
pos = -35,0

[State 2107, Cracks]
type = Explod
triggerall = NumHelper(13102) = 0
trigger1 = pos y = 0
Anim = 15220
Pos = -30, 3
Id = 15220
sprpriority = -4
removeongethit = 0
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 2107, Explosion.Damage]
type = Helper
triggerall = NumHelper(13102) = 0
trigger1 = pos y = 0
name = "ExplosionDamage"
stateno = 13102
postype = p1
pos = -27, 0
keyctrl = 0
ownpal = 1
id = 13102
size.xscale = 0.6
size.yscale = 0.6

[State 2107, AfterImage.Helper]
type = Helper
triggerall = NumHelper(13102)
trigger1 = time%8=0 && time < 120
helpertype = normal
name = "AfterImage Pulse Aura"
ID = 10260
stateno = 10260
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 2107, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 26
length = 20
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 2107, RemoveExplod]
type = Removeexplod
trigger1 = !animtime
ID = 10000

[State 2107, AfterImage.AuraKillVar]
type = VarSet
trigger1 = time = 130
v = 38
value = 0

[State 2107, Next]
type = ChangeState
trigger1 = !animtime
value = 2108
ctrl = 1
;---------------------------------------------------------------------------
;Turn
[Statedef 2108]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
anim = 0

[State 2108, PosAdd]
type = PosAdd
trigger1 = !time
x = 15

[State 2108, End]
type = ChangeState
trigger1 = time = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Teleport CKick Back - Teleport part
[Statedef 2700]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -200
anim = 2700

[State 2700, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2700, NotHitBy]
type = NotHitBy
Trigger1 = 1
value = SCA
time = 1

[State 2700, PlaySND]
type = PlaySnd
Trigger1 = !time
value = 2900,0

[State 2701, TelePosX]
type = VarSet
trigger1 = !animtime
v = 35
value = floor(p2bodydist X+80)
[State 2701, TelePosY]
type = VarSet
trigger1 = !animtime
v = 36
value = floor(p2bodydist Y)

[State 2700, TeleTrail.Helper]
type = Helper
trigger1 = !animtime
name = "Trail"
stateno = 17900
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 17900
size.xscale = 1
size.yscale = 1

[State 2700, Teleport-PosAdd]
type = PosAdd
Trigger1 = !animtime
x = var(35)
y = var(36)

[State 2700, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,1
value	= 0

[State 2700, Next]
type = ChangeState
Trigger1 = !animtime
value = 2701
ctrl = 1
;---------------------------------------------------------------------------
; Kick Ckick-Reappear/Hit
[Statedef 2701]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
anim = 2701

[State 2701, Swing]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 0
trigger1 = !time
v = 34
value = 1

[State 2701, Turn]
type = Turn
Trigger1 = !time

[State 2701, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2701, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 2701, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, SA
damage = 30,6
guardflag = HA
pausetime = 20,8
sparkno = S11020
sparkxy = -23,-59
hitsound   = S303,0
guardsound = 6,0
animtype = DiagUp
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -7,-8.5
air.velocity = -7,-8.5
fall = 1
fall.recover = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 2701, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,1
value	= 0

[State 2701, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Teleport JKick - Teleport part
[Statedef 2710]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -150
anim = 2700

[State 2710, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2710, NotHitBy]
type = NotHitBy
Trigger1 = 1
value = SCA
time = 1

[State 2710, PlaySND]
type = PlaySnd
Trigger1 = !time
value = 2900,0

[State 2710, TelePosX]
type = VarSet
trigger1 = !animtime
v = 35
value = floor(p2bodydist X+80)
[State 2710, TelePosY]
type = VarSet
trigger1 = !animtime
v = 36
value = floor(p2bodydist Y)

[State 2710, TeleTrail.Helper]
type = Helper
trigger1 = !animtime
name = "Trail"
stateno = 17900
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 17900
size.xscale = 1
size.yscale = 1

[State 2710, Teleport-PosAdd]
type = PosAdd
Trigger1 = !animtime
x = var(35)
y = var(36)

[State 2710, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,1
value	= 0

[State 2710, Next]
type = ChangeState
Trigger1 = !animtime
value = 2711
ctrl = 1
;---------------------------------------------------------------------------
; Tele JKick-Reappear/Hit
[Statedef 2711]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
anim = 2711

[State 2711, Swing]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 1
trigger1 = !time
v = 34
value = 2

[State 2711, Turn]
type = Turn
Trigger1 = !time

[State 2711, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2711, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 2711, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, SA
damage = 30,6
guardflag = HA
pausetime = 20,8
sparkno = S11020
sparkxy = -23,-64
hitsound   = S303,0
guardsound = 6,0
animtype = back
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -8,-6
air.velocity = -8,-6
fall = 1
fall.recover = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 2711, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,1
value	= 0

[State 2711, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Teleport JKick - Teleport part
[Statedef 2720]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -150
anim = 2700

[State 2720, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2720, NotHitBy]
type = NotHitBy
Trigger1 = 1
value = SCA
time = 1

[State 2720, PlaySND]
type = PlaySnd
Trigger1 = !time
value = 2900,0

[State 2720, TeleTrail.Helper]
type = Helper
trigger1 = time = 5
name = "Trail"
stateno = 17900
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 17900
size.xscale = 1
size.yscale = 1

[State 2720, Teleport]
type = PosAdd
Trigger1 = !animtime
x = (p2bodydist X)+80
y = (p2bodydist Y)

[State 2720, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,1
value	= 1

[State 2720, Next]
type = ChangeState
Trigger1 = !animtime
value = 2721
ctrl = 1
;---------------------------------------------------------------------------
; Kick Up-Reappear/Hit
[Statedef 2721]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
anim = 2721

[State 2721, Swing]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 0
trigger1 = !time
v = 34
value = 3
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 2
trigger1 = !time
v = 34
value = 23
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 1
trigger1 = !time
v = 34
value = 13
[State 2701, TeleAttackVar]
type = VarSet
triggerall = var(34) = 12
trigger1 = !time
v = 34
value = 123

[State 2721, Turn]
type = Turn
Trigger1 = !time

[State 2721, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2721, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 2721, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, SA
damage = 30,6
guardflag = HA
pausetime = 16,4
sparkno = S11020
sparkxy = -23,-63
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -3,-12
air.velocity = -3,-12
fall = 1
fall.recover = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 2721, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Teleport Attack Down - Teleport part
[Statedef 2730]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -300
anim = 2700

[State 2730, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2730, NotHitBy]
type = NotHitBy
Trigger1 = 1
value = SCA
time = 1

[State 2730, PlaySND]
type = PlaySnd
Trigger1 = !time
value = 2900,0

[State 2730, TelePosX]
type = VarSet
trigger1 = !animtime
v = 35
value = floor(p2bodydist X+80)
[State 2730, TelePosY]
type = VarSet
trigger1 = !animtime
v = 36
value = floor(p2bodydist Y+5)

[State 2730, TeleTrail.Helper]
type = Helper
trigger1 = !animtime
name = "Trail"
stateno = 17900
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 17900
size.xscale = 1
size.yscale = 1

[State 2730, Teleport-PosAdd]
type = PosAdd
Trigger1 = !animtime
x = var(35)
y = var(36)

[State 2710, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,1
value	= 0

[State 2730, Next]
type = ChangeState
Trigger1 = !animtime
value = 2731
ctrl = 1
;---------------------------------------------------------------------------
; Teleport Attack-Down
[Statedef 2731]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
anim = 2731

[State 2731, Turn]
type = Turn
Trigger1 = !time

[State 2731, Swing]
type = PlaySnd
trigger1 = !time
value = 210, 0

[State 2731, TeleAttackVar]
type = VarSet
trigger1 = !time
v = 34
value = 4

[State 2731, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2731, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 2731, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, SA
damage = 50,10
guardflag = HA
pausetime = 24,16
sparkno = S11020
sparkxy = -6,-34
hitsound   = S304,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -3,10
air.velocity = -3,10
fall = 1
fall.recover = 0
fall.xvelocity = -3
fall.yvelocity = -9
fall.damage = 20
down.bounce = 1
envshake.time = 16
envshake.freq = 140
envshake.ampl = -5
envshake.phase = 90
p2facing=1

[State 2710, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,1
value	= 0

[State 2731, End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Forward Start
[Statedef 2900]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -100
anim = 2900

[State 2900, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2900, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 9
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 2900, TeleportFwd]
type = VelSet
Trigger1 = AnimElem = 3
x = 26
y = 0

[State 2903, Slow]
type = VelMul
Trigger1 = AnimElem = 3, > 0
x = 0.87

[State 2900, Border1]
type = PosSet
Trigger1 =  Pos Y > 0
y = 0

[State 2901, NoTurn]
type = AssertSpecial
trigger1 = 1 && animtime !=0
flag = noautoturn

[State 2900, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

[State 2900, KickDust]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 7
Anim = 15011
Pos = 25, 0
Id = 15011
sprpriority = 2
removeongethit = 0
;removetime = 26
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.2,0.2
velocity = 1,0

[State 2900, Next]
type = ChangeState
Trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Back Start
[Statedef 2901]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -100
anim = 2901

[State 2901, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2901, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 9
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 2901, TeleportFwd]
type = VelSet
Trigger1 = AnimElem = 3
x = -26
y = 0

[State 2903, Slow]
type = VelMul
Trigger1 = AnimElem = 3, > 0
x = 0.87

[State 2901, Border1]
type = PosSet
Trigger1 =  Pos Y > 0
y = 0

[State 2901, NoTurn]
type = AssertSpecial
trigger1 = 1 && animtime !=0
flag = noautoturn

[State 2901, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

[State 2901, KickDust]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 7
Anim = 15010
Pos = -15, 0
Id = 15010
sprpriority = 2
removeongethit = 0
;removetime = 26
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.2,0.2
velocity = -1,0

[State 2901, Next]
type = ChangeState
Trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Up Start
[Statedef 2903]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
poweradd = -100
anim = 2903

[State 2903, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2903, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 9
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,100
paladd = 25,0,6
timegap = 1
framegap = 1
trans = Add

[State 2903, TeleportFwd]
type = VelSet
Trigger1 = AnimElem = 3
x = 0
y = -26

[State 2903, Slow]
type = VelMul
Trigger1 = AnimElem = 3, > 0
y = 0.87

[State 2903, Border1]
type = PosSet
Trigger1 =  Pos Y > 0
y = 0

[State 2903, NoTurn]
type = AssertSpecial
trigger1 = 1 && animtime !=0
flag = noautoturn

[State 2903, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

[State 2903, Next]
type = ChangeState
Trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Armor Mode
[Statedef 4000]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 4000

[State 4000, VarSet]
type = VarSet
trigger1 = !time
v = 51
value = 1

[State 4000, End]
type = ChangeState
trigger1 = !Animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Null State For Armor Mode
[Statedef 4100]
movetype= H

[State 4100, Armor.Minus]
type = VarAdd
trigger1 = !time
v = 49
value = -1

[State 4100, Time.Count]
type = VarAdd
trigger1 = !time
v = 48
value = 1

[State 4100, ChangeAnim]
type = ChangeAnim
trigger1 = Alive
value = Anim
elem = AnimElemNo(0)

[State 4100, ChangeAnim]
type = ChangeAnim
trigger1 = !Alive
value = 5030

[State 4100, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 4100, NotHitBy]
type = NotHitBy 
trigger1 = 1
time = 1
value = SCA

[State 4100, End]
type = ChangeState
trigger1 = time = 1 && alive
value = var(50)

[State 4100, End]
type = ChangeState
trigger1 = time = 1 && !alive
value = 5030
;---------------------------------------------------------------------------
;WinKO Effect by FlowaGirl! FlowaGirl receives all the credit for this code.

[Statedef 9998]
type = S
movetype = I
physics = N
anim = 9999

[State 9998: Pause]
type = Pause
trigger1 = !Time
time = 12
movetime = 12

[State 9998: EnvColor]
type = EnvColor
trigger1 = Time < 12
value = Time*4, Time*4, Time*4
time = 1
under = 1

[State 9998: EnvShake]
type = EnvShake
trigger1 = !Time
time = 12
freq = 120
ampl = -3
phase = 90

[State 9998: AllPalFX]
type = AllPalFX
trigger1 = Time < 50
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = Time*5

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;
;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[StateDef -2]
;---------------------------------------------------------------------------
;Character, Creator Display
[State -2, DisplayToClipboard]
type = DisplayToClipboard
triggerall = Var(1) = 0
trigger1 = 1
text = "Garlic Jr by Chrono_Strife and Benhazard. AI = %d. Armor = %d"
params = AILevel, var(49)
;---------------------------------------------------------------------------
;WinKO Effect by FlowaGirl
[State -2, Helper]
type = null;Helper
trigger1 = (WinKO) && (NumHelper(9998) = 0) && (NumHelper(16000) = 0)
helpertype = Normal
name = "WinKO"
id = 9998
pos = 0,0
postype = p1
facing = 0
stateno = 9998
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000
ignorehitpause = 1
;---------------------------------------------------------------------------
; Flight Detection Variable Reset
[State -2, FlightDetectionReset]
type = VarSet
trigger1 = stateno != [200, 399]
v = 21
value = 0

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -3]
;---------------------------------------------------------------------------
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 52 ;Jump land
value = 40, 1

[State -3, LowHealthVariable]
type = VarRandom
trigger1 = life < 250 && Var(7) = 0
v = 7
range = 1,5

[State -3, P2LowHealthVariable]
type = VarRandom
trigger1 = p2life < 250 && Var(8) = 0
v = 8
range = 1,4
;---------------------------------------------------------------------------
;Damage Dampener
[State -3, DamageDampener.Add]
type = VarAdd
triggerall = var(29) < 10
trigger1 = movehit && (hitpausetime = 1) && p2movetype = H
v = 29
value = 1
ignorehitpause = 1

[State -3, DamageDampener.Reset]
type = VarSet
triggerall = !numtarget
trigger1 = p2movetype != H 
trigger2 = numenemy && enemy,ctrl
v = 29 
value = 0

[State -3, DamageDampener.AttackMulReSet]
type = AttackMulSet
trigger1 = var(29)=0 
value = 1.0

[State -3, DamageDampener.AttackMulSet]
type = AttackMulSet
triggerall = var(29)!=0 
trigger1 = (stateno = [200,699]) || (stateno = [1000,1599])
value = 1.0-(var(29)*0.09)
;---------------------------------------------------------------------------
;Combo Counter
[State -3, ComboCounter.Reset]
type = VarSet
triggerall = var(16)>0
trigger1 = time=1
v = 16 
value = 0

[State -3, ComboCounter.Add]
type = VarAdd
trigger1 =  movehit && hitpausetime=1
v = 16
value = 1
ignorehitpause = 1
;--------------------------------------------------------------------------
;Reset TeleAttack Combo
[State -3, TeleAttackVar]
type = VarSet
trigger1 = var(34) != 0 && ctrl
v = 34
value = 0
;---------------------------------------------------------------------------
;General PalFX Normalization
;If var(33) is not the current State fade away the PalFx
;Do not apply in Armor Mode State [4100]
[State -3, General.PalFX-Normalize.R]
type = VarSet
trigger1 = (stateno != var(33) && stateno != 4100) && var(30) >= 0
v = 30
value = floor(var(30)*0.9)
[State -3, General.PalFX-Normalize.G]
type = VarSet
trigger1 = (stateno != var(33) && stateno != 4100) && var(31) >= 0
v = 31
value = floor(var(31)*0.9)
[State -3, General.PalFX-Normalize.B]
type = VarSet
trigger1 = (stateno != var(33) && stateno != 4100) && var(32) >= 0
v = 32
value = floor(var(32)*0.9)

[State -3, General.PalFX-Normalize]
type = PalFX
trigger1 = (stateno != var(33)) && (var(30) || var(31) || var(32))
time = 1
add = var(30),var(31),var(32)
;---------------------------------------------------------------------------
;Super Armor Override
[State -3, Armor.HitOverride]
type = HitOverride
trigger1 = Var(51) = 1
attr = SCA, AA, AP, AT
stateno = 4100

[State -3, Armor.PalFX]
type = PalFX
triggerall = Var(51) = 1
trigger1 = timemod = 4,0
time = 2
add = 100,0,0

[State -3, VarSet]
type = VarSet
trigger1 = movetype != H
v = 50
value = stateno
;---------------------------------------------------------------------------
[State -3, P2 Smash Ground]
type = Helper
trigger1 = p2stateno = 95027 && numhelper(15170) = 0
helpertype = normal
stateno = 15170
Id = 15170
pos = 0,0
postype = p2
bindtime = 1
ownpal = 1
keyctrl = 0
;--------------------------------------------------------------------------
;Enter a Fall State if you are entering an unintended Stand or Crouch State whilst in the Air
[State -3, Fall]
type = Changestate
triggerall = (statetype = S || statetype = C) && pos y < 0 
trigger1 = (stateno = [0,299]) || (stateno =[311,599])
value = 50
ctrl = 1
;--------------------------------------------------------------------------
;Kill Aura
[State -3, Aura.Helper]
type = Helper
trigger1 = alive && !numhelper(10300) && movetype != H
name = "Aura"
stateno = 10300
id = 10300
pos = 0,0
postype = p1
ownpal = 1
supermovetime  = 9999999
pausemovetime  = 9999999
ignorehitpause = 1
;--------------------------------------------------------------------------
[State -3, AfterImageAura.Kill]
type = VarSet
triggerall = var(38) > 0
trigger1 = !(alive)
trigger2 = movetype = H && (stateno != [4000,4199])
trigger3 = movetype != A && (stateno != [1700,2600])
trigger4 = (stateno = 1702)
v = 38
value = 0
supermovetime  = 9999999
pausemovetime  = 9999999
ignorehitpause = 1

[State -3, AfterImage.Helper]
type = Helper
triggerall = !numhelper(10250)
trigger1 = var(38) = 1
helpertype = normal
name = "AfterImage Aura"
ID = 10250
stateno = 10250
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
[State -3, AfterImage.Helper]
type = Helper
triggerall = !numhelper(10251)
trigger1 = var(38) = 1
helpertype = normal
name = "AfterImage Aura 2"
ID = 10251
stateno = 10251
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;--------------------------------------------------------------------------
;Reset Air Dash counter
[State -3, AirDashVarReset]
type = VarSet
triggerall = Var(42) != 0 && alive
trigger1 = statetype != A || movetype = H
v= 42
value = 0
ignorehitpause = 1
;--------------------------------------------------------------------------
[State -3, RemoveArm]
type = RemoveExplod
trigger1 = stateno != 963
Id = 964
;--------------------------------------------------------------------------
[State -3, Shoulder_Tackle.Crush.RESET]
type = VarSet
trigger1 = (stateno != 810)
v = 23
value = 0
;--------------------------------------------------------------------------
;Dead Zone yourself
;This one should be targeting Garlic, or unfortunately his teammate
[State -3, DeadZone.Helper]
type = Helper
triggerall = var(26) = 1 
trigger1 = (stateno != [2000,2002]) && stateno != 4100
name = "Helper:DeadZone"
stateno = 16000
postype = p1
pos = floor(ifelse(backedgebodydist < 160, (80-backedgebodydist)+80, -80)),floor((pos y)-170)
keyctrl = 0
ownpal = 1
bindtime = 1
id = 16000
size.ground.front = 1
size.ground.back = 1
size.xscale = 0.6
size.yscale = 0.6

[State 2001, CameraA.Helper]
type = null;Helper
triggerall = var(26) = 1 
trigger1 = !numhelper(99996) && (stateno != [2000,2002]) && stateno != 4100
name = "DZCamA"
stateno = 99996
postype = left
pos = 1,-pos y
keyctrl = 0
ownpal = 1
id = 99996
size.ground.front = 1
size.ground.back = 1
[State 2001, CameraB.Helper]
type = null;Helper
triggerall = var(26) = 1 
trigger1 = !numhelper(99997) && (stateno != [2000,2002]) && stateno != 4100
name = "DZCamB"
stateno = 99997
postype = right
pos = -1,-pos y
keyctrl = 0
ownpal = 1
id = 99997
size.ground.front = 1
size.ground.back = 1

[State -3, VarSet - DeadZone.Detection.Reset]
type = VarSet
triggerall = var(26) = 1
trigger1 = (stateno != [2000,2002]) && stateno != 4100
v = 26
value = 2
;------------------------------------------------------------------------------
;Artificial Intelligence
;------------------------------------------------------------------------------
;===========AI===========
;=========Guard==========
;========================
[State -3,AI.Guard]
type = ChangeState
triggerall = AILevel && statetype = S && ctrl && alive
trigger1 = p2statetype = S && p2movetype = A && InGuardDist && (random < AILevel*50)
value = 130

[State -3,AI.CGuard]
type = ChangeState
triggerall = AILevel && statetype = C && ctrl && alive
trigger1 =  p2statetype = C && p2movetype = A && inguarddist && (random < AILevel*50)
value = 131

[State -3,AI.AGuard]
type = ChangeState
triggerall = (AILevel) && statetype = A && ctrl && alive
trigger1 = p2statetype = A && p2movetype = A && inguarddist && (random < AILevel*50)
value = 132
;------------------------------------------------------------------------------
;===========AI===========
;====Close-Up States=====
;========================
;======Throws/Grabs======
;Throw
[State -3, AI.Throw]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0 && p2bodydist x < 9
trigger1 = (Var(40) = [1,10]) && ctrl 
value = 800
;Face Breaker
[State -3, AI.Face Breaker]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0 && p2bodydist x < 9
trigger1 = (Var(40) = [11,20]) && ctrl 
value = 900
;Immortals Rage
[State -3, AI.ImmortalRage]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0 && p2bodydist x < 9
trigger1 = (Var(40) = [21,30]) && ctrl 
value = 959

;====Standing Basics=====
;Elbow
[State -3, AI.Elbow]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0 && p2bodydist x < 12
trigger1 = (Var(40) = [21,40]) && ctrl 
value = 205

;Weak Punch
[State -3, AI.WPunch]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [1,40]) && (p2bodydist x = [12,40]) && ctrl
trigger2 = (prevstateno = 205) && movecontact && (random < AILevel*50)
value = 200
;Medium Punch
[State -3, AI.MPunch]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [41,45]) && (p2bodydist x < 40) && ctrl
trigger2 = (prevstateno = 200 || prevstateno = 230) && movecontact && (random < AILevel*50)
value = 210
;Strong Punch
[State -3, AI.SPunch]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0 && stateno !=220
trigger1 = (Var(40) = [46,55]) && (p2bodydist x < 40)  && ctrl
trigger2 = (prevstateno = 210 || prevstateno = 260) && movecontact && (random < AILevel*50)
value = 220

;Weak Kick
[State -3, AI.WKick]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [56,65]) && (p2bodydist x < 40) && ctrl
trigger2 = (prevstateno = 200) && movecontact && (random < AILevel*30) 
value = 230
;Medium Kick
[State -3, AI.MKick]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [66,70]) && (p2bodydist x < 40 && p2bodydist x >= 7)  && ctrl
trigger2 = (prevstateno = 210 || prevstateno = 230) && movecontact && (random < AILevel*30) 
value = 260
;Strong Kick
[State -3, AI.SKick]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [71,75]) && (p2bodydist x < 40 && p2bodydist x >= 7) && ctrl
trigger2 = (prevstateno = 210 || prevstateno = 260) && movecontact && (random < AILevel*30) 
value = 240

;Launcher
[State -3, AI.Launcher]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = ((stateno = [200,210]) || (stateno = 230) || (stateno = 260)) && movecontact && (random < AILevel*25) 
trigger2 = (Var(40) = [76,80]) && (p2bodydist x < 30) && ctrl
value = 250

;========Specials========
;Shoulder Bash
[State -3, AI.Bash]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = ((stateno = [200,210]) || (stateno = 230) || (stateno = 260)) && movecontact && (random < AILevel*15) 
trigger2 = (Var(40) = [81,85]) && (p2bodydist x < 40) && ctrl
value = ifelse(random>500, 1300, 1310)
;Ground Pound
[State -3, AI.GPound]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = ((stateno = [200,210]) || (stateno = 230) || (stateno = 260)) && movecontact && (random < AILevel*10)
trigger2 = (Var(40) = [86,90]) && (p2bodydist x < 40) && ctrl && power >= 1000
value = 1400
;Hellfire Kick
[State -3, AI.HellfireKick]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [91,95]) && (p2dist x = [40,100]) && ctrl 
value = 1570
;Power Kick
[State -3, AI.PowerKick]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [96,100]) && (p2dist x = [40,100]) && p2bodydist y >= -70 && ctrl 
value = 290
;------------------------------------------------------------------------------
;===========AI===========
;=Medium Distance States=
;========================
;Zanzoken
[State -3, AI.Zanzoken]
type = ChangeState
triggerall = AILevel  && alive && (statetype = S || statetype = A) && roundstate=2 && power > 250
trigger1 = (Var(40) = [1,15]) && (p2bodydist x >= 40 && p2bodydist x <= 100) && p2bodydist y >= -70 && ctrl 
trigger2 = numenemy && (enemynear(0), movetype=A) && (random < AILevel || InGuardDist && random < AILevel*3) && ctrl 
value = ifelse(random>200, 2900, 2901)
;Run Forward
[State -3, AI.RunoJumpFwd]
type = ChangeState
triggerall = AILevel && alive && statetype = S && roundstate=2 && pos y = 0 && (stateno != 100 && stateno != 101)
trigger1 = (Var(40) = [16,35]) && (p2bodydist x >= 40 && p2bodydist x <= 100) && ctrl 
value = 100

;Ground Pound
[State -3, AI.MD.GroundPound]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [36,45]) && (p2dist x = [40,100]) && p2bodydist y >= -70 && ctrl 
value = 1400
;Shoulder Bash
[State -3, AI.MD.Bash]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [46,65]) && (p2dist x = [40,100]) && p2bodydist y >= -70 && ctrl 
value = ifelse(random>750, 1310, 1320)

;Hellfire Kick
[State -3, AI.HellfireKick]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [66,73]) && (p2dist x = [40,100]) && ctrl 
value = 1570
;Power Kick
[State -3, AI.PowerKick]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [74,80]) && (p2dist x = [40,100]) && p2bodydist y >= -70 && ctrl 
value = 290

;Fireball
[State -3, AI.HellfireKick]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [81,85]) && (p2dist x = [40,100]) && p2bodydist y >= -70 && ctrl && power > 300
value = 1000
;------------------------------------------------------------------------------
;===========AI===========
:====Far Away States=====
;========================
;Run Forward -or- SJ Fwd
[State -3, AI.RunoJumpFwd]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && ctrl && p2life > 0 && (stateno != 100 && stateno != 101)
trigger1 = (Var(40) = [1,30]) && p2dist x > 70 && stateno = 0
trigger2 = (Var(40) = [1,40]) && p2dist x > 120 && stateno = 0
value = ifelse(random > 500, 41,100)
;Air Dash Forward
[State -3, AI.ARunFwd]
type = ChangeState
triggerall = (AILevel) && alive && statetype = A && ctrl && p2life > 0
trigger1 = (Var(40) = [1,30]) && (p2dist x > 70) && (stateno = 40 || stateno = 41) && sysvar(1) = 0
trigger2 = (Var(40) = [1,40]) && (p2dist x > 120) && (stateno = 40 || stateno = 41) && sysvar(1) = 0
value = 102

;========Specials========
;Fire Ball
[State -3, AI.Fireball]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0 && prevstateno != [1000, 1022]
trigger1 = (Var(40) = [41,50]) && (p2dist x > 100) && power > 300 && p2bodydist y >= -70 && ctrl 
value = 1000
;Ground Pound Strong
[State -3, AI.Ground.Pound]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [51,60]) && (p2dist x = [100,240]) && power > 300 && p2bodydist y >= -70 && ctrl 
value = 1400
;Shoulder Bash
[State -3, AI.Shoulder Bash]
type = ChangeState
triggerall = (AILevel) && alive && statetype = S && p2life > 0
trigger1 = (Var(40) = [61,80]) && (p2dist x = [70,200])&& p2bodydist y >= -70 && ctrl 
value = ifelse(random > 500, 1310, 1320)

;=========Supers=========
;Super: Bash'n'Blast
[State -3, AI.Bash'n'Blast]
type = ChangeState
triggerall = (AILevel) && alive && (statetype = S || statetype = C) && p2life > 0 && (p2dist x = [70,280]) && p2bodydist y >= -70
trigger1 = (Var(40) = [75,79]) && p2life <= 300 && power >= 1000 && ctrl 
trigger2 = (Var(40) = [96,98]) && p2life > 300 && power >= 1000 && ctrl 
value = 1900
;Super: Rush'n'Crush
;Super: Belly Beam
[State -3, AI.Belly Beam]
type = ChangeState
triggerall = (AILevel) && alive && (statetype = S || statetype = C) && p2life > 0 && p2dist x > 70 && p2bodydist y >= -70
trigger1 = (Var(40) = [80,84]) && p2life <= 300 && power >= 1000 && ctrl 
trigger2 = (Var(40) = [99,100]) && p2life > 300 && power >= 1000 && ctrl 
value = 1800
[State -3, AI.Rush'n'Crush]
type = ChangeState
triggerall = (AILevel) && alive && (statetype = S || statetype = C) && ctrl && p2life > 0 && (p2dist x = [70,280]) && p2bodydist y >= -70
trigger1 = (Var(40) = [85,89]) && p2life <= 300 && power >= 2000 && ctrl 
trigger2 = (Var(40) = [85,95]) && p2life > 300 && power >= 2000 && ctrl 
value = 2100
;Super: Dead Zone
[State -3, AI.DeadZone]
type = ChangeState
triggerall = (AILevel) && alive && (statetype = S || statetype = C) && power >= 3000 && p2bodydist y >= -70 && (p2dist x > 40) 
trigger1 = (Var(40) = [90,95]) && p2life > 300 && ctrl 
trigger2 = (Var(40) = [90,100]) && p2life <= 300 && ctrl 
value = 2000
;------------------------------------------------------------------------------
;===========AI===========
;==Air Basics : Punches==
;========================
;Weak Air Punch
[State -3, AI.WAPunch]
type = ChangeState
triggerall = (AILevel) && alive && statetype = A && p2life > 0
trigger1 = (Var(40) = [1,30]) && (p2bodydist x < 40) && ctrl
value = 600
;Medium Air Punch
[State -3, AI.MAPunch]
type = ChangeState
triggerall = (AILevel) && alive && statetype = A && p2life > 0
trigger1 = (Var(40) = [31,50]) && (p2bodydist x < 40) && ctrl
trigger2 = (prevstateno = 600 || prevstateno = 630) && movecontact && (random < AILevel*25)
value = 610
;Strong Air Punch
[State -3, AI.SAPunch]
type = ChangeState
triggerall = (AILevel) && alive && statetype = A && ctrl && p2life > 0
trigger1 = (Var(40) = [51,70]) && (p2bodydist x < 40) && ctrl
trigger2 = (prevstateno = 610 || prevstateno = 640) && movecontact && (random < AILevel*25)
value = 620
;==Air Basics : Kicks==
;Weak Air Kick
[State -3, AI.WAKick]
type = ChangeState
triggerall = (AILevel) && alive && statetype = A && ctrl && p2life > 0
trigger1 = (Var(40) = [71,80]) && (p2bodydist x < 40) && ctrl
trigger2 = (prevstateno = 600) && movecontact && (random < AILevel*25)
value = 630
;Medium Air Kick
[State -3, AI.MAKick]
type = ChangeState
triggerall = (AILevel) && alive && statetype = A && ctrl && p2life > 0
trigger1 = (Var(40) = [81,90]) && (p2bodydist x < 40) && ctrl
trigger2 = (prevstateno = 610 || prevstateno = 630) && movecontact && (random < AILevel*25)
value = 640
;Strong Air Kick
[State -3, AI.MAKick]
type = ChangeState
triggerall = (AILevel) && alive && statetype = A && ctrl && p2life > 0
trigger1 = (Var(40) = [91,100]) && (p2bodydist x < 40) && ctrl 
trigger2 = (prevstateno = 640) && movecontact && (random < AILevel*25)
value = 650
;----------------------------------------------------------------------------
;===========AI===========
;=Chain Mechanics for AI=
;========================
;Crushing Shoulder Tackle Chain for Basic Throw [follows State 810]
[State -3, AI.Shoulder_Tackle.Crush]
type = VarSet
triggerall = (AILevel) && alive
trigger1 = (stateno = 810) && (time = 10) && (random >= 600-AILevel*60)
v = 23
value = 1

;Teleport Chain Sequence Start [follows States 250, 810, 851]
[State -3,  AI.Tele.Chain-1]
type = ChangeState
value = 2700
triggerall = (AILevel) && alive && (var(34) = 0)
trigger1 = (stateno = 250) && movehit && time = 18 && (random >= 950-AILevel*10)
trigger2 = (stateno = 810) && time = 57 && (random >= 700-AILevel*36) && power >= 1000
trigger3 = (stateno = 851) && time = 57 && (random >= 700-AILevel*36)
[State -3, AI.Tele.Chain-2]
type = ChangeState
value = 2710
triggerall = (AILevel) && alive && (var(34) = 1)
trigger1 = (stateno = 2701) && movehit && time = 13 && (random >= 400-AILevel*40)
[State -3, AI.TeleD.Chain-3]
type = ChangeState
value = 2730
triggerall = (AILevel) && alive 
trigger1 = (stateno = 2711) && movehit && time = 13 && (var(34) = 2) && (random >= 201-AILevel*25)

;TeleAttack Down [follows States 250 only for AI because it looks nice]
[State -3, AI.TeleD.Chain]
type = ChangeState
value = 2730
triggerall = (AILevel) && alive 
trigger1 = (stateno = 2711) && movehit && time = 13 && (random >= 600-AILevel*35)

;Rising Knee [follows States {1300-1320}]
[State -3, AI.Knee.Chain]
type = ChangeState
value = 1530
triggerall = (AILevel) && alive 
trigger1 = (stateno = [1300,1320]) && movehit && time = 13 && (random >= 600-AILevel*40)
;Garlic Smash [follows State 1530]
[State -3, AI.Smash.From.Knee.Chain]
type = ChangeState
value = 1533
triggerall = (stateno = 1532)
trigger1 = (movehit = 1) && (random >= 201-AILevel*25)

; Garlic Meteor from Hellfire Kick [follows State 1370]
[State -3, AI.Garlic_Meteor.Chain]
type = ChangeState
value = 1370
triggerall = (AILevel) && alive 
trigger1 = (stateno = 1572) && time = 8 && (random >= 600-AILevel*40)

;----------------------------------------------------------------------------
;===========AI===========
;====AI Cancel States====
;========================
;This is here to prevent Garlic from derping in the 
;Power Kick/Ground Pound charge and some other states
;Hopefully, he'll use them intelligently now! :)
[State -3, Cancel.GroundPound]
type = ChangeState
triggerall = stateno = 1400 && (AILevel) && alive 
trigger1 = time > 82
trigger2 = (abs(p2bodydist x) <= var(13)+10) && time > 20
value = 1401 ;Time must be GT 20

[State -3, Cancel.PowerKick]
type = ChangeState
triggerall = stateno = 290 && (AILevel) && alive 
trigger1 = time > 30
trigger2 = (abs(p2bodydist x) <= 30) && time > 8
value = 291 ;Time must be GT 8

;----------------------------------------------------------------------------
;===========AI===========
;=====AI Var Select======
;========================
;State Decider
[State -3, AI.StateDecider]
type = VarRandom
triggerall = (AILevel) && Var(40) = 0 && alive
trigger1 = ctrl
v= 40
range = 1,(120-Floor(AILevel*2.5))
ignorehitpause = 1

;State Decider Reset
[State -3, AI.StateDeciderReset]
type = VarSet
triggerall = (AILevel) && Var(40) != 0 && alive
trigger1 = !ctrl
trigger2 = (statetype = A && (stateno = 40 || stateno = 41))
v= 40
value = 0
ignorehitpause = 1